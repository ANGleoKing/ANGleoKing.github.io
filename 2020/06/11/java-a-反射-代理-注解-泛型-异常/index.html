<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>反射&amp;代理-注解-泛型-异常 | Alex</title><meta name="description" content="反射&amp;代理-注解-泛型-异常"><meta name="keywords" content="java,base"><meta name="author" content="Alex"><meta name="copyright" content="Alex"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="反射&amp;代理-注解-泛型-异常"><meta name="twitter:description" content="反射&amp;代理-注解-泛型-异常"><meta name="twitter:image" content="https://herycs.github.io/img/post.jpg"><meta property="og:type" content="article"><meta property="og:title" content="反射&amp;代理-注解-泛型-异常"><meta property="og:url" content="https://herycs.github.io/2020/06/11/java-a-%E5%8F%8D%E5%B0%84-%E4%BB%A3%E7%90%86-%E6%B3%A8%E8%A7%A3-%E6%B3%9B%E5%9E%8B-%E5%BC%82%E5%B8%B8/"><meta property="og:site_name" content="Alex"><meta property="og:description" content="反射&amp;代理-注解-泛型-异常"><meta property="og:image" content="https://herycs.github.io/img/post.jpg"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = 'false'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://herycs.github.io/2020/06/11/java-a-%E5%8F%8D%E5%B0%84-%E4%BB%A3%E7%90%86-%E6%B3%A8%E8%A7%A3-%E6%B3%9B%E5%9E%8B-%E5%BC%82%E5%B8%B8/"><link rel="prev" title="android-summary" href="https://herycs.github.io/2020/06/23/android-summary/"><link rel="next" title="java-a-并发" href="https://herycs.github.io/2020/06/07/java-a-%E5%B9%B6%E5%8F%91/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  bookmark: {
    message_prev: 'Press',
    message_next: 'to bookmark this page'
  },
  runtime_unit: 'days',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: false,
  isPhotoFigcaption: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.0"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">Articles</div><div class="length_num">26</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">Tags</div><div class="length_num">17</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">Categories</div><div class="length_num">8</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/documents"><i class="fa-fw fa fa-music"></i><span> Documents</span></a></li></ul></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#反射-amp-代理"><span class="toc-number">1.</span> <span class="toc-text">反射&amp;代理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#概念"><span class="toc-number">1.1.</span> <span class="toc-text">概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#用处"><span class="toc-number">1.2.</span> <span class="toc-text">用处</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Class类"><span class="toc-number">1.3.</span> <span class="toc-text">Class类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#操作"><span class="toc-number">1.4.</span> <span class="toc-text">操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#提升效率"><span class="toc-number">1.5.</span> <span class="toc-text">提升效率</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#应用"><span class="toc-number">1.6.</span> <span class="toc-text">应用</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#代理"><span class="toc-number">2.</span> <span class="toc-text">代理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#概述"><span class="toc-number">2.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#动态代理实现"><span class="toc-number">2.2.</span> <span class="toc-text">动态代理实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ASM"><span class="toc-number">2.3.</span> <span class="toc-text">ASM</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#加载方式"><span class="toc-number">2.3.1.</span> <span class="toc-text">加载方式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring中的选用"><span class="toc-number">2.4.</span> <span class="toc-text">Spring中的选用</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#注解"><span class="toc-number">3.</span> <span class="toc-text">注解</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#元注解"><span class="toc-number">3.1.</span> <span class="toc-text">元注解</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#自定义注解"><span class="toc-number">3.2.</span> <span class="toc-text">自定义注解</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#操作-1"><span class="toc-number">3.3.</span> <span class="toc-text">操作</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#泛型"><span class="toc-number">4.</span> <span class="toc-text">泛型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#概念-1"><span class="toc-number">4.1.</span> <span class="toc-text">概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#类型擦除"><span class="toc-number">4.2.</span> <span class="toc-text">类型擦除</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#泛型带来的问题"><span class="toc-number">4.2.1.</span> <span class="toc-text">泛型带来的问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#常用泛型变量"><span class="toc-number">4.2.2.</span> <span class="toc-text">常用泛型变量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#限定通配符和非限定通配符"><span class="toc-number">4.2.2.1.</span> <span class="toc-text">限定通配符和非限定通配符</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#界限"><span class="toc-number">4.3.</span> <span class="toc-text">界限</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#异常"><span class="toc-number">5.</span> <span class="toc-text">异常</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Error和Exception"><span class="toc-number">5.1.</span> <span class="toc-text">Error和Exception</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#异常类型"><span class="toc-number">5.2.</span> <span class="toc-text">异常类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#异常相关关键字"><span class="toc-number">5.3.</span> <span class="toc-text">异常相关关键字</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#异常处理"><span class="toc-number">5.4.</span> <span class="toc-text">异常处理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#自定义异常"><span class="toc-number">5.5.</span> <span class="toc-text">自定义异常</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#异常链"><span class="toc-number">5.6.</span> <span class="toc-text">异常链</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(/img/post.jpg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Alex</a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/documents"><i class="fa-fw fa fa-music"></i><span> Documents</span></a></li></ul></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">反射&amp;代理-注解-泛型-异常</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="Created 2020-06-11 11:16:38"><i class="fa fa-calendar" aria-hidden="true"></i> Created 2020-06-11</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="Updated 2020-06-11 11:16:38"><i class="fa fa-history" aria-hidden="true"></i> Updated 2020-06-11</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/java/">java</a></span></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>Post View:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div id="article-container"><h1 id="反射-amp-代理"><a href="#反射-amp-代理" class="headerlink" title="反射&amp;代理"></a>反射&amp;代理</h1><h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p>运行状态下可以获取任意一个类，可以调用任意对象的方法，可以操作其属性值等</p>
<h2 id="用处"><a href="#用处" class="headerlink" title="用处"></a>用处</h2><ul>
<li>运行时修改或者获取class，对象的信息</li>
<li>运行时操作对象，修改数据等等</li>
<li>解耦，运行时装配对象</li>
</ul>
<h2 id="Class类"><a href="#Class类" class="headerlink" title="Class类"></a>Class类</h2><p>我们使用Class类来实现反射的一些操作，此类中定义了一些操作类的方法，通过此类的方法，我们可以获得类的方法属性等信息，也可调用方法或者操作属性，实际上当一个类被JVM装载如内存后就会有个java.lang.Class对象与其关联向我们提供操作这个类的方法</p>
<h2 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h2><p>基础类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.w.JavaBase.reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DEMO</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line">    <span class="keyword">volatile</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">transient</span> <span class="keyword">double</span> money;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DEMO</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>&#123; <span class="keyword">return</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">show1</span><span class="params">()</span></span>&#123; <span class="keyword">return</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DEMO</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;  <span class="keyword">this</span>.id = id; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getId</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> id; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;  <span class="keyword">this</span>.id = id; &#125;</span><br><span class="line">	<span class="comment">//...省略其他getter,setter代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>获取类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">DEMO demo = <span class="keyword">new</span> DEMO();</span><br><span class="line">Class aClass = demo.getClass();<span class="comment">//实例调用方法</span></span><br><span class="line"></span><br><span class="line">Class bClass = DEMO<span class="class">.<span class="keyword">class</span></span>;<span class="comment">//直接获取类</span></span><br><span class="line"></span><br><span class="line">Class cClass = Class.forName(<span class="string">"com.w.JavaBase.reflect.DEMO"</span>);<span class="comment">//路径获取类</span></span><br></pre></td></tr></table></figure>

<p>获取类的属性方法</p>
<ul>
<li><p>获取类名称</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String name = aClass.getName();<span class="comment">//获取类名:com.w.JavaBase.reflect.DEMO</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>​    获取类字段</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Field[] fileds = aClass.getFields();<span class="comment">//获取public字段列表:nameclass java.lang.String</span></span><br><span class="line">Field[] declaredFields = aClass.getDeclaredFields();<span class="comment">//获取所有字段列表</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    private int com.w.JavaBase.reflect.DEMO.id</span></span><br><span class="line"><span class="comment">    public java.lang.String com.w.JavaBase.reflect.DEMO.name</span></span><br><span class="line"><span class="comment">    volatile int com.w.JavaBase.reflect.DEMO.age</span></span><br><span class="line"><span class="comment">    transient double com.w.JavaBase.reflect.DEMO.money</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>获取方法</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">Method[] methods = aClass.getMethods();<span class="comment">//获取public方法,继承方法</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    public java.lang.String com.w.JavaBase.reflect.DEMO.getName()</span></span><br><span class="line"><span class="comment">    public int com.w.JavaBase.reflect.DEMO.getId()</span></span><br><span class="line"><span class="comment">    public void com.w.JavaBase.reflect.DEMO.setName(java.lang.String)</span></span><br><span class="line"><span class="comment">    public void com.w.JavaBase.reflect.DEMO.setId(int)</span></span><br><span class="line"><span class="comment">    public void com.w.JavaBase.reflect.DEMO.setAge(int)</span></span><br><span class="line"><span class="comment">    public double com.w.JavaBase.reflect.DEMO.getMoney()</span></span><br><span class="line"><span class="comment">    public int com.w.JavaBase.reflect.DEMO.getAge()</span></span><br><span class="line"><span class="comment">    public void com.w.JavaBase.reflect.DEMO.setMoney(double)</span></span><br><span class="line"><span class="comment">    （以下是Object方法，这也在一个方面证实了所有类都是Object的子类）</span></span><br><span class="line"><span class="comment">    public final void java.lang.Object.wait() throws java.lang.InterruptedException</span></span><br><span class="line"><span class="comment">    public final void java.lang.Object.wait(long,int) throws java.lang.InterruptedException</span></span><br><span class="line"><span class="comment">    public final native void java.lang.Object.wait(long) throws java.lang.InterruptedException</span></span><br><span class="line"><span class="comment">    public boolean java.lang.Object.equals(java.lang.Object)</span></span><br><span class="line"><span class="comment">    public java.lang.String java.lang.Object.toString()</span></span><br><span class="line"><span class="comment">    public native int java.lang.Object.hashCode()</span></span><br><span class="line"><span class="comment">    public final native java.lang.Class java.lang.Object.getClass()</span></span><br><span class="line"><span class="comment">    public final native void java.lang.Object.notify()</span></span><br><span class="line"><span class="comment">    public final native void java.lang.Object.notifyAll()</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">Method[] declaredMethods = aClass.getDeclaredMethods();<span class="comment">//获取类内部的所有方法</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    public java.lang.String com.w.JavaBase.reflect.DEMO.getName()</span></span><br><span class="line"><span class="comment">    public int com.w.JavaBase.reflect.DEMO.getId()</span></span><br><span class="line"><span class="comment">    public void com.w.JavaBase.reflect.DEMO.setName(java.lang.String)</span></span><br><span class="line"><span class="comment">    public void com.w.JavaBase.reflect.DEMO.setId(int)</span></span><br><span class="line"><span class="comment">    public void com.w.JavaBase.reflect.DEMO.setAge(int)</span></span><br><span class="line"><span class="comment">    public double com.w.JavaBase.reflect.DEMO.getMoney()</span></span><br><span class="line"><span class="comment">    //对比上述结果可以发现此方法获取到的只有类本身的全部方法</span></span><br><span class="line"><span class="comment">    private synchronized void com.w.JavaBase.reflect.DEMO.show1()//是有方法</span></span><br><span class="line"><span class="comment">    public int com.w.JavaBase.reflect.DEMO.getAge()</span></span><br><span class="line"><span class="comment">    private void com.w.JavaBase.reflect.DEMO.show()//私有方法</span></span><br><span class="line"><span class="comment">    public void com.w.JavaBase.reflect.DEMO.setMoney(double)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">Method getAge = aClass.getMethod(<span class="string">"getAge"</span>);<span class="comment">//获取指定方法:getAge [Ljava.lang.reflect.Parameter;@7f31245a</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>构造器获取</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Constructor[] constructors = aClass.getConstructors();<span class="comment">//获取所有构造器</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    public com.w.JavaBase.reflect.DEMO()</span></span><br><span class="line"><span class="comment">    public com.w.JavaBase.reflect.DEMO(int)</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>获取实例</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Object o = aClass.newInstance();<span class="comment">//获取类的实例</span></span><br><span class="line"><span class="comment">//com.w.JavaBase.reflect.DEMO@135fbaa4</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>操作属性</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Field age = aClass.getDeclaredField(<span class="string">"age"</span>);</span><br><span class="line">age.set(demo, <span class="number">12</span>);<span class="comment">//demo为实例</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>操作方法</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Method method = aClass.getMethod(<span class="string">"getAge"</span>);</span><br><span class="line"><span class="keyword">int</span> ageVal  = (<span class="keyword">int</span>) method.invoke(demo);<span class="comment">//demo为实例</span></span><br><span class="line">System.out.println(ageVal);</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>以上我们可以确定，使用反射不仅可以获取对于类的所有（私有，非私有，继承）信息（属性，方法），还可以动态操作某一个具体的方法，属性。</p>
<h2 id="提升效率"><a href="#提升效率" class="headerlink" title="提升效率"></a>提升效率</h2><p>setAccessible()取消语言访问检查可以在一定程度上提升运行速度</p>
<h2 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h2><p>1.动态的加载类、动态的获取类的信息，构造对象以及操作类（属性、方法）</p>
<p>2.获取泛型信息</p>
<p>3.处理注解</p>
<blockquote>
<p>推荐<a href="https://zhuanlan.zhihu.com/p/58793884" target="_blank" rel="noopener">阅读</a></p>
</blockquote>
<h1 id="代理"><a href="#代理" class="headerlink" title="代理"></a>代理</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>正因为我们可对类进行动态的一些操作，这也有了支持我们对类之间的解耦，基于Class类给的支持，我们可以在内存中对类进行操作，常用的动态代理就是使用反射在内存中对类实现一个动态的代理（与之相对的经常提起的也就是静态代理，这很容易理解，直白点就是代码中实现的代理操作）</p>
<h2 id="动态代理实现"><a href="#动态代理实现" class="headerlink" title="动态代理实现"></a>动态代理实现</h2><ul>
<li>借助JDK的Class实现动态代理</li>
<li>使用CGlib实现动态代理（底层借助的是ASM操作字节码）：动态生成被代理对象的子类（这种方式会导致final修饰的方法字段代理后无法操作）</li>
</ul>
<h2 id="ASM"><a href="#ASM" class="headerlink" title="ASM"></a>ASM</h2><blockquote>
<p>被用于动态生成类或者增强即有类的功能，对于ASM可以参见<a href="https://asm.ow2.io/" target="_blank" rel="noopener">网页</a></p>
<p>相对于直接修改（文本编辑器）class文件来实现对类的改动，ASM则提供了封装好的方法，用于更加便捷的操作类（无需再耗费精力去计算便宜字段，文件校验码等）</p>
</blockquote>
<p>正因为class文件的规范，其内部的数据排列之间有着严格的限制，这样在解析class文件时也比较方便，ASM框架通过封装对字节码的操作对外提供了能动态操作字节码的API（通常有两个方法：1.直接生成字节码；2.加载入JVM前操作类）</p>
<h3 id="加载方式"><a href="#加载方式" class="headerlink" title="加载方式"></a>加载方式</h3><ol>
<li>基于访问者模式操作类（Core）</li>
<li>基于树节点操作类（Tree）</li>
</ol>
<h2 id="Spring中的选用"><a href="#Spring中的选用" class="headerlink" title="Spring中的选用"></a>Spring中的选用</h2><ul>
<li>类实现了接口，则JDK动态代理</li>
<li>类没有实现接口，则CGlib（当然可以通过设置强制使用CGlib）</li>
</ul>
<h1 id="注解"><a href="#注解" class="headerlink" title="注解"></a>注解</h1><h2 id="元注解"><a href="#元注解" class="headerlink" title="元注解"></a>元注解</h2><ul>
<li>定义其他注解的注解</li>
<li>元注解有四个:<ul>
<li>@Target（表示该注解可以用于什么地方）</li>
<li>@Retention（表示再什么级别保存该注解信息）</li>
<li>@Documented（将此注解包含再javadoc中）</li>
<li>@Inherited（允许子类继承父类中的注解）。</li>
</ul>
</li>
</ul>
<h2 id="自定义注解"><a href="#自定义注解" class="headerlink" title="自定义注解"></a>自定义注解</h2><ul>
<li>在Java中，类使用class定义，接口使用interface定义，注解和接口的定义差不多，增加了一个@符号，即@interface</li>
</ul>
<h2 id="操作-1"><a href="#操作-1" class="headerlink" title="操作"></a>操作</h2><p>注解类定义</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target</span>(ElementType.METHOD)<span class="comment">//注解类型</span></span><br><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)<span class="comment">//注解保存级别</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> AnnotationDemo1&#123;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">id</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">String <span class="title">desc</span><span class="params">()</span> <span class="keyword">default</span> "none desc"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注解使用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AnnotationTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@AnnotationDemo</span>1(id = <span class="number">12</span>, desc = <span class="string">"name"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">show</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"方法执行了"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">123</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>利用反射获取注解值以及执行方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    Class aClass = Class.forName(<span class="string">"com.w.JavaBase.reflect.AnnotationTest"</span>);</span><br><span class="line">    Method[] methods = aClass.getMethods();<span class="comment">//获取类的public方法</span></span><br><span class="line">    <span class="keyword">for</span>(Method method : methods)&#123;</span><br><span class="line">        <span class="keyword">if</span>(method.isAnnotationPresent(AnnotationDemo1<span class="class">.<span class="keyword">class</span>))</span>&#123;<span class="comment">//判定是否符合注册特征</span></span><br><span class="line">            AnnotationDemo1 anno = method.getAnnotation(AnnotationDemo1<span class="class">.<span class="keyword">class</span>)</span>;<span class="comment">//获取注解操作类</span></span><br><span class="line">            System.out.println(<span class="string">"id:"</span> + anno.id() +<span class="string">",desc:"</span> + anno.desc());<span class="comment">//执行注解类方法获取注解参数值</span></span><br><span class="line">            <span class="keyword">int</span> result = (<span class="keyword">int</span>) method.invoke(aClass.newInstance());<span class="comment">//调用方法，并捕获返回值</span></span><br><span class="line">            System.out.println(<span class="string">"方法返回值为："</span>+result);<span class="comment">//打印</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h1><h2 id="概念-1"><a href="#概念-1" class="headerlink" title="概念"></a>概念</h2><p>允许在定义类和接⼜的时候使⽤类型参数（ type parameter）（jdk1.5引入），在设计一些通用操作类时很有作用（例如在常用的集合框架中就采用泛型进行类型的声明）</p>
<h2 id="类型擦除"><a href="#类型擦除" class="headerlink" title="类型擦除"></a>类型擦除</h2><blockquote>
<p>正因为类型可以抽象化，我们在使用的时候更加灵活</p>
</blockquote>
<p>原本我们要实现一个参数化的方法可能需要Object或者其父类等，在内部使用instanceof判定后进行类型转换，但使用泛型后将类型填充后不再需要如此繁琐了</p>
<p>例如如下代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span>  <span class="title">TypeDemo</span> &lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> T num;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TypeDemo</span><span class="params">()</span> </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNum</span><span class="params">(T num)</span> </span>&#123; <span class="keyword">this</span>.num = num; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">getNum</span><span class="params">()</span></span>&#123; <span class="keyword">return</span> num; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用时只需要填充T类型即可</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	TypeDemo&lt;Integer&gt; typeDemo = <span class="keyword">new</span> TypeDemo&lt;&gt;();</span><br><span class="line">    typeDemo.setNum(<span class="number">123</span>);</span><br><span class="line">    System.out.println(typeDemo.getNum());<span class="comment">//执行无误</span></span><br><span class="line"></span><br><span class="line">    typeDemo.setNum(<span class="string">"test"</span>);<span class="comment">//idea会提示有错误，直接编译也会报告类型不兼容</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可见使用泛型不但少去了类型转换这一步，还增加了个类型检查的功能</p>
<p>我们反编译操作一下TypeDemo.class，可以看到它在编译后做了类型擦除，所谓的T类型变成了Object</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TypeDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Object num;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TypeDemo</span><span class="params">()</span> </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNum</span><span class="params">(Object obj)</span> </span>&#123; num = obj; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">getNum</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> num; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>但实质上呢？</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这是set()方法的字节码的反编译版本，可以看到这里面实质上保留了T类型的描述</span></span><br><span class="line">LocalVariableTypeTable:</span><br><span class="line">        Start  Length  Slot  Name   Signature</span><br><span class="line">            <span class="number">0</span>       <span class="number">6</span>     <span class="number">0</span>  <span class="keyword">this</span>   Lcom/w/JavaBase/type/TypeDemo&lt;TT;&gt;;</span><br><span class="line">            <span class="number">0</span>       <span class="number">6</span>     <span class="number">1</span>   num   TT;</span><br><span class="line">    Signature: #20                          // (TT;)V</span><br><span class="line"><span class="comment">//当将泛型位置全都替换成Integer时，可以看到TT ---&gt; TInteger</span></span><br><span class="line">LocalVariableTypeTable:</span><br><span class="line">        Start  Length  Slot  Name   Signature</span><br><span class="line">            <span class="number">0</span>       <span class="number">6</span>     <span class="number">0</span>  <span class="keyword">this</span>   Lcom/w/JavaBase/type/TypeDemo&lt;TInteger;&gt;;</span><br><span class="line">            <span class="number">0</span>       <span class="number">6</span>     <span class="number">1</span>   num   TInteger;</span><br><span class="line">    Signature: #20                          // (TInteger;)V</span><br></pre></td></tr></table></figure>

<p>去掉Class文件处的类型限制呢</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">LocalVariableTable:</span><br><span class="line">        Start  Length  Slot  Name   Signature</span><br><span class="line">            <span class="number">0</span>       <span class="number">6</span>     <span class="number">0</span>  <span class="keyword">this</span>   Lcom/w/JavaBase/type/TypeDemo;</span><br><span class="line">            <span class="number">0</span>       <span class="number">6</span>     <span class="number">1</span>   num   Ljava/lang/Integer;<span class="comment">//可以看到原来的TT或者TInteger已经消失，换来的是java中已知的类型</span></span><br></pre></td></tr></table></figure>

<p>编译器处理泛型</p>
<ul>
<li>1.单独编译：生成多份目标代码（类似于同一份文档生成两份中英文版，需要的时候找对应的版本即可）</li>
<li>2.共享：生成一份目标代码（类似于参数化配置文档，需要时切换其配置文件即可）</li>
</ul>
<p>类型擦除指的是通过类型参数合并，将泛型类型实例关联到同一份字节码上。</p>
<ul>
<li>编译器只为泛型类型生成一份字节码，并将其实例关联到这份字节码上。</li>
<li>类型擦除的关键在于从泛型类型中清除类型参数的相关信息，并且再必要的时候添加类型检查和类型转换的方法。</li>
<li>类型擦除可以简单的理解为将泛型java代码转换为普通java代码，只不过编译器更直接点，将泛型java代码直接转换成普通java字节码。</li>
</ul>
<p>类型擦除的主要过程如下：</p>
<ul>
<li>1.将所有的泛型参数用其顶级类型替换（若不设置那就是Object，设置了泛型上边界那就会以上边界类为准进行类型擦除）。</li>
<li>2.移除所有的类型参数。</li>
</ul>
<h3 id="泛型带来的问题"><a href="#泛型带来的问题" class="headerlink" title="泛型带来的问题"></a>泛型带来的问题</h3><p>泛型遇到重载</p>
<ul>
<li>同样的操作擦除后其类型定义(参数列表)也成为了一样的，也就是这个时候出现了两个方法的签名是一致的情况</li>
</ul>
<p>泛型遇到catch</p>
<ul>
<li>自定义了一个泛型异常类GenericException，不应该尝试用多个catch取匹配不同的异常类型</li>
</ul>
<p>泛型内包含静态变量</p>
<ul>
<li>由于经过类型擦除，所有的<strong>泛型类实例都关联到同一份字节码</strong>上，泛型类的所有静态变量是共享的。</li>
</ul>
<p>总结</p>
<ul>
<li>1.虚拟机中没有泛型，只有普通类和普通方法,所有泛型类的类型参数在编译时都会被擦除,泛型类并没有自己独有的Class类对象。</li>
<li>2.创建泛型对象时请指明类型，让编译器尽早的做参数检查</li>
<li>3.不要忽略编译器的警告信息，那意味着潜在的<code>ClassCastException</code>等着你。</li>
<li>4.静态变量是被泛型类的所有实例所共享的。</li>
<li>5.泛型的类型参数不能用在<code>Java</code>异常处理的<code>catch</code>语句中。</li>
</ul>
<h3 id="常用泛型变量"><a href="#常用泛型变量" class="headerlink" title="常用泛型变量"></a>常用泛型变量</h3><ul>
<li><p>E - Element (在集合中使用，因为集合中存放的是元素)</p>
</li>
<li><p>T - Type（Java 类）</p>
</li>
<li><p>K - Key（键）</p>
</li>
<li><p>V - Value（值）</p>
</li>
<li><p>N - Number（数值类型）</p>
</li>
<li><p>？ - 表示不确定的java类型（无限制通配符类型）</p>
</li>
<li><p>S、U、V - 2nd、3rd、4th types</p>
</li>
</ul>
<h4 id="限定通配符和非限定通配符"><a href="#限定通配符和非限定通配符" class="headerlink" title="限定通配符和非限定通配符"></a>限定通配符和非限定通配符</h4><ul>
<li><p><code>限定通配符</code>对类型进⾏限制， 泛型中有两种限定通配符：</p>
<p>  表示类型的上界，格式为：&lt;？ extends T&gt;，即类型必须为T类型或者T子类 表示类型的下界，格式为：&lt;？ super T&gt;，即类型必须为T类型或者T的父类</p>
</li>
<li><p>泛型类型必须⽤限定内的类型来进⾏初始化，否则会导致编译错误。</p>
<p>  <code>⾮限定通配符</code>表⽰可以⽤任意泛型类型来替代，类型为</p>
</li>
</ul>
<h2 id="界限"><a href="#界限" class="headerlink" title="界限"></a>界限</h2><p>上界：&lt;? extends T&gt;，定义上界，类型最大是T类型，使用时泛型类需要是当前类或者当前类的子类</p>
<p>下界：&lt;? super T&gt;，定义下界，类型最小是T类型，使用时泛型类需要是当前类或者当前类的父类</p>
<blockquote>
<p><a href="https://hollischuang.github.io/toBeTopJavaer/#/basics/java-basic/generics" target="_blank" rel="noopener">参考个人博客</a></p>
</blockquote>
<h1 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h1><h2 id="Error和Exception"><a href="#Error和Exception" class="headerlink" title="Error和Exception"></a>Error和Exception</h2><blockquote>
<p>均继承自Throwable类。</p>
</blockquote>
<ul>
<li>Error表⽰系统级的错误， 是java<strong>运⾏环境内部错误</strong>或者<strong>硬件问题</strong>， 不能指望程序来处理这样的问题， 除了退出运⾏外别⽆选择， 它是<strong>Java虚拟机抛出</strong>的。</li>
<li>Exception 表⽰程序需要捕捉、 需要处理的常， 是由与<strong>程序设计的不完善</strong>⽽出现的问题， 程序必须处理的问题。</li>
</ul>
<h2 id="异常类型"><a href="#异常类型" class="headerlink" title="异常类型"></a>异常类型</h2><blockquote>
<p>受检异常（ checked exception） </p>
<p>⾮受检异常（ unchecked exception）</p>
</blockquote>
<ul>
<li>我们在程序中调⽤他的时候， ⼀定要对该异常进⾏处理（ 捕获或者向上抛出） ， 否则是⽆法编译通过的。</li>
<li>对于⾮受检异常来说， ⼀般是运⾏时异常， 继承⾃RuntimeException。 在编写代码的时候， 不需要显⽰的捕获，但是如果不捕获， 在运⾏期如果发⽣异常就会中断程序的执⾏。</li>
</ul>
<h2 id="异常相关关键字"><a href="#异常相关关键字" class="headerlink" title="异常相关关键字"></a>异常相关关键字</h2><ul>
<li>throw语句⽤来明确地抛出⼀个异常；</li>
<li>throws⽤来声明⼀个⽅法可能抛出的各种异常；</li>
</ul>
<h2 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h2><ol>
<li>进行处理</li>
<li>抛出交给调用者处理</li>
</ol>
<h2 id="自定义异常"><a href="#自定义异常" class="headerlink" title="自定义异常"></a>自定义异常</h2><ul>
<li>继承<code>Exception</code>的⼦类</li>
</ul>
<h2 id="异常链"><a href="#异常链" class="headerlink" title="异常链"></a>异常链</h2><p>try-with-resources</p>
<ul>
<li>关闭资源的常用方式就是在finally块里是释放</li>
</ul>
<p>finally和return的执行顺序</p>
<ul>
<li><code>try()</code> ⾥⾯有⼀个<code>return</code>语句， 那么后⾯的<code>finally{}</code>⾥⾯的code会不会被执⾏</li>
<li>如果try中有return语句， 那么finally中的代码还是会执⾏。<ul>
<li>因为return表⽰的是要整个⽅法体返回， 所以，finally中的语句会在return之前执⾏。</li>
<li>但是return前执行的finally块内，对数据的修改效果对于引用类型和值类型会不同</li>
</ul>
</li>
</ul>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Alex</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://herycs.github.io/2020/06/11/java-a-%E5%8F%8D%E5%B0%84-%E4%BB%A3%E7%90%86-%E6%B3%A8%E8%A7%A3-%E6%B3%9B%E5%9E%8B-%E5%BC%82%E5%B8%B8/">https://herycs.github.io/2020/06/11/java-a-%E5%8F%8D%E5%B0%84-%E4%BB%A3%E7%90%86-%E6%B3%A8%E8%A7%A3-%E6%B3%9B%E5%9E%8B-%E5%BC%82%E5%B8%B8/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/java/">java</a><a class="post-meta__tags" href="/tags/base/">base</a></div><div class="post_share"><div class="social-share" data-image="/img/post.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2020/06/23/android-summary/"><img class="prev_cover lazyload" data-src="/img/post.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">android-summary</div></div></a></div><div class="next-post pull_right"><a href="/2020/06/07/java-a-%E5%B9%B6%E5%8F%91/"><img class="next_cover lazyload" data-src="/img/post.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">java-a-并发</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> Recommend</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2020/06/06/java-a-序列化/" title="java-a-序列化"><img class="relatedPosts_cover lazyload"data-src="/img/post.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-06-06</div><div class="relatedPosts_title">java-a-序列化</div></div></a></div><div class="relatedPosts_item"><a href="/2018/08/16/java-#-jdbc/" title="java-#-jdbc"><img class="relatedPosts_cover lazyload"data-src="/img/post.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2018-08-16</div><div class="relatedPosts_title">java-#-jdbc</div></div></a></div><div class="relatedPosts_item"><a href="/2020/06/07/java-a-并发/" title="java-a-并发"><img class="relatedPosts_cover lazyload"data-src="/img/post.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-06-07</div><div class="relatedPosts_title">java-a-并发</div></div></a></div><div class="relatedPosts_item"><a href="/2020/05/24/java-b-Map/" title="java-b-Map"><img class="relatedPosts_cover lazyload"data-src="/img/post.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-05-24</div><div class="relatedPosts_title">java-b-Map</div></div></a></div></div><div class="clear_both"></div></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 By Alex</div><div class="framework-info"><span>Driven </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="Read Mode"></i><i class="fa fa-plus" id="font_plus" title="Increase font size"></i><i class="fa fa-minus" id="font_minus" title="Decrease font size"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="Traditional Chinese and Simplified Chinese Conversion" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="Dark Mode"></i></div><div id="rightside-config-show"><div id="rightside_config" title="Setting"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="Table of Contents" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="Back to top" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script></body></html>