<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>network-a-http | Alex</title><meta name="description" content="network-a-http"><meta name="keywords" content="http,network"><meta name="author" content="Alex"><meta name="copyright" content="Alex"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="network-a-http"><meta name="twitter:description" content="network-a-http"><meta name="twitter:image" content="https://herycs.github.io/img/post.jpg"><meta property="og:type" content="article"><meta property="og:title" content="network-a-http"><meta property="og:url" content="https://herycs.github.io/2019/07/21/network-a-http/"><meta property="og:site_name" content="Alex"><meta property="og:description" content="network-a-http"><meta property="og:image" content="https://herycs.github.io/img/post.jpg"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = 'false'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://herycs.github.io/2019/07/21/network-a-http/"><link rel="prev" title="network-a-https" href="https://herycs.github.io/2019/08/15/network-a-https/"><link rel="next" title="linux-#-develop1.md" href="https://herycs.github.io/2019/05/23/linux-#-develop1/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  bookmark: {
    message_prev: 'Press',
    message_next: 'to bookmark this page'
  },
  runtime_unit: 'days',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: false,
  isPhotoFigcaption: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.0"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">Articles</div><div class="length_num">28</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">Tags</div><div class="length_num">16</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">Categories</div><div class="length_num">7</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/documents"><i class="fa-fw fa fa-music"></i><span> Documents</span></a></li></ul></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#走进-Http-a"><span class="toc-number">1.</span> <span class="toc-text">走进 - Http - a</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#发展历史"><span class="toc-number">2.</span> <span class="toc-text">发展历史</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#TCP-IP"><span class="toc-number">3.</span> <span class="toc-text">TCP&#x2F;IP</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#TCP-IP协议分层管理"><span class="toc-number">3.1.</span> <span class="toc-text">TCP&#x2F;IP协议分层管理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#通信传输流"><span class="toc-number">3.2.</span> <span class="toc-text">通信传输流</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IP协议（Internet-Protocol）"><span class="toc-number">3.3.</span> <span class="toc-text">IP协议（Internet Protocol）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TCP协议"><span class="toc-number">3.4.</span> <span class="toc-text">TCP协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DNS服务（Domain-Name-System）"><span class="toc-number">3.5.</span> <span class="toc-text">DNS服务（Domain Name System）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#URI和URL"><span class="toc-number">3.6.</span> <span class="toc-text">URI和URL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#统一资源标识符"><span class="toc-number">3.7.</span> <span class="toc-text">统一资源标识符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#URI格式"><span class="toc-number">3.8.</span> <span class="toc-text">URI格式</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#HTTP协议"><span class="toc-number">4.</span> <span class="toc-text">HTTP协议</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#定位资源"><span class="toc-number">4.1.</span> <span class="toc-text">定位资源</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#告知服务器意图的HTTP方法"><span class="toc-number">4.2.</span> <span class="toc-text">告知服务器意图的HTTP方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#GET"><span class="toc-number">4.2.1.</span> <span class="toc-text">GET</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#POST"><span class="toc-number">4.2.2.</span> <span class="toc-text">POST</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PUT"><span class="toc-number">4.2.3.</span> <span class="toc-text">PUT</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HEAD"><span class="toc-number">4.2.4.</span> <span class="toc-text">HEAD</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DELETE"><span class="toc-number">4.2.5.</span> <span class="toc-text">DELETE</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#OPTIONS"><span class="toc-number">4.2.6.</span> <span class="toc-text">OPTIONS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TRACE"><span class="toc-number">4.2.7.</span> <span class="toc-text">TRACE</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CONNECT"><span class="toc-number">4.2.8.</span> <span class="toc-text">CONNECT</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-0和1-1支持的方法"><span class="toc-number">4.3.</span> <span class="toc-text">1.0和1.1支持的方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#持久连接"><span class="toc-number">4.4.</span> <span class="toc-text">持久连接</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#管线化"><span class="toc-number">4.5.</span> <span class="toc-text">管线化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#使用Cookie"><span class="toc-number">4.6.</span> <span class="toc-text">使用Cookie</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#HTTP报文内的信息"><span class="toc-number">5.</span> <span class="toc-text">HTTP报文内的信息</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#HTTP报文"><span class="toc-number">5.1.</span> <span class="toc-text">HTTP报文</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#编码提升传输效率"><span class="toc-number">5.2.</span> <span class="toc-text">编码提升传输效率</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#报文主体和实体"><span class="toc-number">5.3.</span> <span class="toc-text">报文主体和实体</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#压缩内容"><span class="toc-number">5.4.</span> <span class="toc-text">压缩内容</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#分割发送（CHunked-Transfer）"><span class="toc-number">5.5.</span> <span class="toc-text">分割发送（CHunked Transfer）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#多种数据的对象集合"><span class="toc-number">5.6.</span> <span class="toc-text">多种数据的对象集合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#获取部分内容的范围请求"><span class="toc-number">5.7.</span> <span class="toc-text">获取部分内容的范围请求</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#内容协商返回最合适的内容"><span class="toc-number">5.8.</span> <span class="toc-text">内容协商返回最合适的内容</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#HTTP返回状态码"><span class="toc-number">6.</span> <span class="toc-text">HTTP返回状态码</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#概述"><span class="toc-number">6.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#常用状态码"><span class="toc-number">6.2.</span> <span class="toc-text">常用状态码</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2XX-成功"><span class="toc-number">6.2.1.</span> <span class="toc-text">2XX 成功</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3XX-重定向"><span class="toc-number">6.2.2.</span> <span class="toc-text">3XX  重定向</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4XX-客户端错误"><span class="toc-number">6.2.3.</span> <span class="toc-text">4XX 客户端错误</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5XX-服务器错误"><span class="toc-number">6.2.4.</span> <span class="toc-text">5XX 服务器错误</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Web服务器相关概念"><span class="toc-number">7.</span> <span class="toc-text">Web服务器相关概念</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#单虚拟机实现多域名"><span class="toc-number">7.1.</span> <span class="toc-text">单虚拟机实现多域名</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#通信数据转发处理程序"><span class="toc-number">7.2.</span> <span class="toc-text">通信数据转发处理程序</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#代理"><span class="toc-number">7.2.1.</span> <span class="toc-text">代理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#缓存代理-Caching-Proxy"><span class="toc-number">7.2.1.1.</span> <span class="toc-text">缓存代理(Caching Proxy)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#透明代理（Transparent-Proxy）"><span class="toc-number">7.2.1.2.</span> <span class="toc-text">透明代理（Transparent Proxy）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#非透明代理"><span class="toc-number">7.2.1.3.</span> <span class="toc-text">非透明代理</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#网关"><span class="toc-number">7.2.2.</span> <span class="toc-text">网关</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#隧道"><span class="toc-number">7.2.3.</span> <span class="toc-text">隧道</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#保存资源的缓存"><span class="toc-number">7.3.</span> <span class="toc-text">保存资源的缓存</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#缓存有效期"><span class="toc-number">7.3.1.</span> <span class="toc-text">缓存有效期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#客户端缓存"><span class="toc-number">7.3.2.</span> <span class="toc-text">客户端缓存</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#HTTP首部"><span class="toc-number">8.</span> <span class="toc-text">HTTP首部</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#字段结构"><span class="toc-number">8.1.</span> <span class="toc-text">字段结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#字段类型"><span class="toc-number">8.2.</span> <span class="toc-text">字段类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HTTP-1-1-首部字段一览"><span class="toc-number">8.3.</span> <span class="toc-text">HTTP&#x2F;1.1 首部字段一览</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#通用首部字段"><span class="toc-number">8.3.1.</span> <span class="toc-text">通用首部字段</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#请求首部字段"><span class="toc-number">8.3.2.</span> <span class="toc-text">请求首部字段</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#响应首部字段"><span class="toc-number">8.3.3.</span> <span class="toc-text">响应首部字段</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#实体首部字段"><span class="toc-number">8.3.4.</span> <span class="toc-text">实体首部字段</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#非HTTP-1-1首部字段"><span class="toc-number">8.4.</span> <span class="toc-text">非HTTP&#x2F;1.1首部字段</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#End-to-end首部和Ho-by-hop首部"><span class="toc-number">8.5.</span> <span class="toc-text">End-to-end首部和Ho-by-hop首部</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HTTP-1-1-通用首部字段"><span class="toc-number">8.6.</span> <span class="toc-text">HTTP&#x2F;1.1 通用首部字段</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Cache-Control"><span class="toc-number">8.6.1.</span> <span class="toc-text">Cache-Control</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Connection"><span class="toc-number">8.6.2.</span> <span class="toc-text">Connection</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Date"><span class="toc-number">8.6.3.</span> <span class="toc-text">Date</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Pragma"><span class="toc-number">8.6.4.</span> <span class="toc-text">Pragma</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Trailer"><span class="toc-number">8.6.5.</span> <span class="toc-text">Trailer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Transfer-Encoding"><span class="toc-number">8.6.6.</span> <span class="toc-text">Transfer-Encoding</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Upgrade"><span class="toc-number">8.6.7.</span> <span class="toc-text">Upgrade</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Via"><span class="toc-number">8.6.8.</span> <span class="toc-text">Via</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Warning"><span class="toc-number">8.6.9.</span> <span class="toc-text">Warning</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#请求首部字段-1"><span class="toc-number">8.7.</span> <span class="toc-text">请求首部字段</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Accept"><span class="toc-number">8.7.1.</span> <span class="toc-text">Accept</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Accept-Charset"><span class="toc-number">8.7.2.</span> <span class="toc-text">Accept-Charset</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Accept-Encoding"><span class="toc-number">8.7.3.</span> <span class="toc-text">Accept-Encoding</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Accept-Language"><span class="toc-number">8.7.4.</span> <span class="toc-text">Accept-Language</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Authorization"><span class="toc-number">8.7.5.</span> <span class="toc-text">Authorization</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Expect"><span class="toc-number">8.7.6.</span> <span class="toc-text">Expect</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#From"><span class="toc-number">8.7.7.</span> <span class="toc-text">From</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Host"><span class="toc-number">8.7.8.</span> <span class="toc-text">Host</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#If-Match"><span class="toc-number">8.7.9.</span> <span class="toc-text">If-Match</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#If-Modified-Since"><span class="toc-number">8.7.10.</span> <span class="toc-text">If-Modified-Since</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#If-None-Match"><span class="toc-number">8.7.11.</span> <span class="toc-text">If-None-Match</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#If-Range"><span class="toc-number">8.7.12.</span> <span class="toc-text">If-Range</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#If-Unmodified-Since"><span class="toc-number">8.7.13.</span> <span class="toc-text">If-Unmodified-Since</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Max-Forwards"><span class="toc-number">8.7.14.</span> <span class="toc-text">Max-Forwards</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Proxy-Authorization"><span class="toc-number">8.7.15.</span> <span class="toc-text">Proxy-Authorization</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Range"><span class="toc-number">8.7.16.</span> <span class="toc-text">Range</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Referer"><span class="toc-number">8.7.17.</span> <span class="toc-text">Referer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TE"><span class="toc-number">8.7.18.</span> <span class="toc-text">TE</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#User-Agent"><span class="toc-number">8.7.19.</span> <span class="toc-text">User-Agent</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#响应首部字段-1"><span class="toc-number">8.8.</span> <span class="toc-text">响应首部字段</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Accept-Ranges"><span class="toc-number">8.8.1.</span> <span class="toc-text">Accept-Ranges</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Age"><span class="toc-number">8.8.2.</span> <span class="toc-text">Age</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Etag"><span class="toc-number">8.8.3.</span> <span class="toc-text">Etag</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Location"><span class="toc-number">8.8.4.</span> <span class="toc-text">Location</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Proxy-Authenticate"><span class="toc-number">8.8.5.</span> <span class="toc-text">Proxy-Authenticate</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Retry-After"><span class="toc-number">8.8.6.</span> <span class="toc-text">Retry-After</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Server"><span class="toc-number">8.8.7.</span> <span class="toc-text">Server</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vary"><span class="toc-number">8.8.8.</span> <span class="toc-text">Vary</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WWW-Authenticate"><span class="toc-number">8.8.9.</span> <span class="toc-text">WWW-Authenticate</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#实体首部字段-1"><span class="toc-number">8.9.</span> <span class="toc-text">实体首部字段</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Allow"><span class="toc-number">8.9.1.</span> <span class="toc-text">Allow</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Content-Encoding"><span class="toc-number">8.9.2.</span> <span class="toc-text">Content-Encoding</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Content-Language"><span class="toc-number">8.9.3.</span> <span class="toc-text">Content-Language</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Content-Length"><span class="toc-number">8.9.4.</span> <span class="toc-text">Content-Length</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Content-Location"><span class="toc-number">8.9.5.</span> <span class="toc-text">Content-Location</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Content-MD5"><span class="toc-number">8.9.6.</span> <span class="toc-text">Content-MD5</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Content-Range"><span class="toc-number">8.9.7.</span> <span class="toc-text">Content-Range</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Content-Type"><span class="toc-number">8.9.8.</span> <span class="toc-text">Content-Type</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Expires"><span class="toc-number">8.9.9.</span> <span class="toc-text">Expires</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Last-Modified"><span class="toc-number">8.9.10.</span> <span class="toc-text">Last-Modified</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#为Cookie服务的首部字段"><span class="toc-number">8.10.</span> <span class="toc-text">为Cookie服务的首部字段</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Set-Cookie"><span class="toc-number">8.10.1.</span> <span class="toc-text">Set-Cookie</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Cookie"><span class="toc-number">8.10.2.</span> <span class="toc-text">Cookie</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#其它首部字段"><span class="toc-number">8.11.</span> <span class="toc-text">其它首部字段</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#X-Frame-Options"><span class="toc-number">8.11.1.</span> <span class="toc-text">X-Frame-Options</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#X-XSS-Protection"><span class="toc-number">8.11.2.</span> <span class="toc-text">X-XSS-Protection</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DNT"><span class="toc-number">8.11.3.</span> <span class="toc-text">DNT</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#P3P（The-Partform-for-Privacy-Preferences）"><span class="toc-number">8.11.4.</span> <span class="toc-text">P3P（The Partform for Privacy Preferences）</span></a></li></ol></li></ol></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(/img/post.jpg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Alex</a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/documents"><i class="fa-fw fa fa-music"></i><span> Documents</span></a></li></ul></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">network-a-http</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="Created 2019-07-21 19:32:45"><i class="fa fa-calendar" aria-hidden="true"></i> Created 2019-07-21</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="Updated 2019-07-21 19:32:45"><i class="fa fa-history" aria-hidden="true"></i> Updated 2019-07-21</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/network/">network</a></span></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>Post View:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div id="article-container"><h1 id="走进-Http-a"><a href="#走进-Http-a" class="headerlink" title="走进 - Http - a"></a>走进 - Http - a</h1><h1 id="发展历史"><a href="#发展历史" class="headerlink" title="发展历史"></a>发展历史</h1><ul>
<li>HTTP/0.9（问世）：1990年，</li>
<li>HTTP/1.0：1996年5月，记载于RFC1945<ul>
<li>RFC1945 - Hypertext Transfer Protocol – HTTP/1.0</li>
</ul>
</li>
<li>HTTP/1.1：1997年1月，标准RFC2068，修订RFC2616<ul>
<li>RFC2616 - Hypertext Transfer Protocol – HTTP/1.1</li>
</ul>
</li>
</ul>
<h1 id="TCP-IP"><a href="#TCP-IP" class="headerlink" title="TCP/IP"></a>TCP/IP</h1><p>TCP/IP是互联网相关各类协议族的总称</p>
<ul>
<li>协议中存在各式各样的内容。<ul>
<li>从电缆到规格到IP的选定方法，寻找异地用户的方法、双方建立通信的顺序，以及web页面显示需要处理的步骤，等等。</li>
</ul>
</li>
</ul>
<h2 id="TCP-IP协议分层管理"><a href="#TCP-IP协议分层管理" class="headerlink" title="TCP/IP协议分层管理"></a>TCP/IP协议分层管理</h2><p>TCP/IP协议族按层次分：</p>
<p>应用层</p>
<ul>
<li>决定向用户提供服务时通信的活动</li>
</ul>
<p>传输层</p>
<ul>
<li>对应上层应用，提供处于网络连接中的两台<strong>计算机之间的数据传输</strong></li>
<li>两个协议：<ul>
<li>TCP（Transmission Control Protocol）传输控制协议</li>
<li>UDP（User Data Protocol）用户数据报协议</li>
</ul>
</li>
</ul>
<p>网络层（网络互联层）</p>
<ul>
<li>处理网络中的流动的<strong>数据包</strong>（数据传输的最小单位）</li>
<li>规定了通过怎样的路径到达对方计算机，并把数据包传送给对方</li>
</ul>
<p>链路层（又名数据链路层，网络接口层）</p>
<ul>
<li>处理连接网络的<strong>硬件</strong>部分<ul>
<li>操作系统，硬件的设备驱动，NIC（Network Interface Card，网络适配器，即网卡），光纤等物理可见部分（包括连接器等一切传输媒介）</li>
</ul>
</li>
</ul>
<h2 id="通信传输流"><a href="#通信传输流" class="headerlink" title="通信传输流"></a>通信传输流</h2><p>​    <img src="/" class="lazyload" data-src="C:%5CUsers%5CANGLE0%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20191213232633213.png"  alt="image-20191213232633213"></p>
<p>流程</p>
<ol>
<li>应用层发出请求</li>
<li>传输层（TCP协议）—&gt;分割报文并标号</li>
<li>网络层（IP协议）—&gt;增加作为通信目的地的MAC地址<ul>
<li>链路层传送</li>
</ul>
</li>
<li>网络层</li>
<li>传输层</li>
<li>应用层</li>
</ol>
<p>流程图示：</p>
<p><img src="/" class="lazyload" data-src="C:%5CUsers%5CANGLE0%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20191213235257650.png"  alt="image-20191213235257650"></p>
<h2 id="IP协议（Internet-Protocol）"><a href="#IP协议（Internet-Protocol）" class="headerlink" title="IP协议（Internet Protocol）"></a>IP协议（Internet Protocol）</h2><ul>
<li>网际协议位于网络层，TCP/IP 中IP就是指网际协议</li>
<li>作用：数据包发送给对方<ul>
<li>依赖信息：IP地址+MAC地址（Media Access Control Address）</li>
</ul>
</li>
<li>网络中实际应用：采用ARP（Address ResolutionProtocel)解析地址的协议，依据通信方的IP地址反差出对应的MAC地址</li>
</ul>
<h2 id="TCP协议"><a href="#TCP协议" class="headerlink" title="TCP协议"></a>TCP协议</h2><p>传输层，提供可靠的字节流服务（Byte Stream Sercive）</p>
<p>为了方便传输将大块数据分割成以报文段（segment）为单位的数据包进行管理</p>
<p>可靠性：TCP协议能够确认数据最终是否送达到对方</p>
<ul>
<li>三次握手（three-way handshaking)</li>
<li>标记：确认信息是否成功到达的：flag - SYN(synchronize)，ACK（acknowlodgement）</li>
<li>流程：<ul>
<li>发送端—&gt;(带SYN标志的数据包)</li>
<li>(带SYN/ACK的数据包)&lt;—接收端接收到后</li>
<li>发送端—&gt;(回传ACK标志的数据包)，至此握手结束</li>
</ul>
</li>
</ul>
<h2 id="DNS服务（Domain-Name-System）"><a href="#DNS服务（Domain-Name-System）" class="headerlink" title="DNS服务（Domain Name System）"></a>DNS服务（Domain Name System）</h2><ul>
<li>应用层</li>
<li>域名到IP的解析服务，IP到域名的反查服务</li>
</ul>
<h2 id="URI和URL"><a href="#URI和URL" class="headerlink" title="URI和URL"></a>URI和URL</h2><ul>
<li>URI（统一资源标识符）</li>
<li>URL（Uniform Resource Locator，统一资源定位符）</li>
</ul>
<h2 id="统一资源标识符"><a href="#统一资源标识符" class="headerlink" title="统一资源标识符"></a>统一资源标识符</h2><p>URI（Uniform Resource Identifier）</p>
<ul>
<li>Uniform：规定统一的格式可方方便处理多种不同类型的资源，不用根据上下文环境来识别资源指定的访问方式</li>
<li>Resource：资源的定义是“可标识的任何东西”，可以是单个，也可以是多数集合体</li>
<li>Identifier：可标识的对象</li>
</ul>
<p>URI用字符串标识某一互联网资源 &gt; URL表示资源的地点</p>
<h2 id="URI格式"><a href="#URI格式" class="headerlink" title="URI格式"></a>URI格式</h2><p>表示指定的URI，要使用涵盖全部必要信息的绝对URI，绝对URL相对URL</p>
<ul>
<li>相对URL，是指从浏览器中基本URI指定的URL</li>
</ul>
<p>示例：<a href="http://use:pass@www.text.com:8080/dir/doc/index.jsp?id=1#page1" target="_blank" rel="noopener">http://use:pass@www.text.com:8080/dir/doc/index.jsp?id=1#page1</a></p>
<ul>
<li>http://协议信息</li>
<li>use:pass登录信息（可选）</li>
<li><a href="http://www.text.com服务器地址" target="_blank" rel="noopener">www.text.com服务器地址</a></li>
<li>8080服务端口号</li>
<li>dir/doc/index.jsp带层次的文件路径</li>
<li>id=1查询字符串（可选）</li>
<li>page1片段标识符（可选）</li>
</ul>
<h1 id="HTTP协议"><a href="#HTTP协议" class="headerlink" title="HTTP协议"></a>HTTP协议</h1><ul>
<li>协议规定：请求从客户端发出，服务端响应并返回</li>
<li>无状态（stateless）协议（不保存状态，不对请求和响应之间的通信状态进行保存），即就是HTTP这个级别，协议对发送过的请求和响应都不做持久化处理</li>
<li>设计之初为了快速处理大量事务，确保协议的可升缩性<ul>
<li>现在由于业务需要，需要保存状态等，引入Cookie技术实现这个操作</li>
</ul>
</li>
</ul>
<h2 id="定位资源"><a href="#定位资源" class="headerlink" title="定位资源"></a>定位资源</h2><p>使用URI</p>
<p>客户端请求访问资源时，<strong>URI</strong>将作为请求报文中的 <strong>请求URI</strong> 包含在内</p>
<ul>
<li>URI 为完整的请求URI</li>
<li>例如：GET <a href="http://www.baidu.com" target="_blank" rel="noopener">http://www.baidu.com</a> HTTP/1.1</li>
</ul>
<p>对服务器本省发起请求（* 代替 请求URI）</p>
<ul>
<li>OPTIONS * HTTP/1.1</li>
</ul>
<h2 id="告知服务器意图的HTTP方法"><a href="#告知服务器意图的HTTP方法" class="headerlink" title="告知服务器意图的HTTP方法"></a>告知服务器意图的HTTP方法</h2><h3 id="GET"><a href="#GET" class="headerlink" title="GET"></a>GET</h3><ul>
<li>获取资源</li>
<li>请求已被URI识别资源，指定资源被服务器解析后返回响应内容<ul>
<li>资源为<strong>文本</strong>：保持原样返回</li>
<li>资源为类似CGI（Common Gateway Interface，通用网关接口）的<strong>程序</strong>：返回执行后的输出结果</li>
</ul>
</li>
</ul>
<h3 id="POST"><a href="#POST" class="headerlink" title="POST"></a>POST</h3><ul>
<li>传输实体主体</li>
<li>GET方法也可传输实体，但POST主要内容并非获取响应内容</li>
</ul>
<h3 id="PUT"><a href="#PUT" class="headerlink" title="PUT"></a>PUT</h3><ul>
<li>传输文件</li>
<li>HTTP/1.1时不带验证机制，存在安全问题<ul>
<li>一般使用REST(Representational State Transfer，表征状态转移)标准的同类WEB网站，可能开放使用</li>
</ul>
</li>
</ul>
<h3 id="HEAD"><a href="#HEAD" class="headerlink" title="HEAD"></a>HEAD</h3><ul>
<li>获取报文首部</li>
<li>和GET方法一样，但不返回报文主体</li>
<li>一般用于确认URI的有效性及资源更新日期</li>
</ul>
<h3 id="DELETE"><a href="#DELETE" class="headerlink" title="DELETE"></a>DELETE</h3><ul>
<li>删除文件</li>
<li>HTTP/1.1时不带验证机制<ul>
<li>一般使用REST(Representational State Transfer，表征状态转移)标准的同类WEB网站，可能开放使用</li>
</ul>
</li>
</ul>
<h3 id="OPTIONS"><a href="#OPTIONS" class="headerlink" title="OPTIONS"></a>OPTIONS</h3><ul>
<li>询问支持的方法</li>
<li>查询请求URI支持的方法</li>
</ul>
<h3 id="TRACE"><a href="#TRACE" class="headerlink" title="TRACE"></a>TRACE</h3><ul>
<li>追踪路径</li>
<li>让WEB服务器端将之前请求的通信返回给客户端的方法</li>
<li>操作：<ul>
<li>发送请求时在Max-Forwards中填入数值每过一层减一（直至到0时停止传输），最后接到请求的服务器返回200 OK 的响应</li>
</ul>
</li>
<li>可以查询发送出去的请求是如何被加工的</li>
<li>风险：<ul>
<li>容易受到（XST， Cross-Site Tracing，跨站追踪的攻击），通常不使用</li>
</ul>
</li>
</ul>
<h3 id="CONNECT"><a href="#CONNECT" class="headerlink" title="CONNECT"></a>CONNECT</h3><ul>
<li>要求用隧道协议连接代理</li>
<li>实现用隧道协议进行TCP通信，主要使用SSL（Secure Sockets Layer，安全套接层)和TSL（Transport Layer Security，传输层安全）协议加密通信内容后经过网络隧道传输</li>
</ul>
<h2 id="1-0和1-1支持的方法"><a href="#1-0和1-1支持的方法" class="headerlink" title="1.0和1.1支持的方法"></a>1.0和1.1支持的方法</h2><blockquote>
<p>X—不支持，O—支持</p>
</blockquote>
<table>
<thead>
<tr>
<th>协议</th>
<th>1.0</th>
<th>1.1</th>
</tr>
</thead>
<tbody><tr>
<td>LINK</td>
<td>O</td>
<td>X</td>
</tr>
<tr>
<td>UNLINK</td>
<td>O</td>
<td>X</td>
</tr>
<tr>
<td>GET</td>
<td>O</td>
<td>O</td>
</tr>
<tr>
<td>POST</td>
<td>O</td>
<td>O</td>
</tr>
<tr>
<td>PUT</td>
<td>O</td>
<td>O</td>
</tr>
<tr>
<td>DELETE</td>
<td>O</td>
<td>O</td>
</tr>
<tr>
<td>OPTIONS</td>
<td>X</td>
<td>O</td>
</tr>
<tr>
<td>TRACE</td>
<td>X</td>
<td>O</td>
</tr>
<tr>
<td>CONNECT</td>
<td>X</td>
<td>O</td>
</tr>
</tbody></table>
<h2 id="持久连接"><a href="#持久连接" class="headerlink" title="持久连接"></a>持久连接</h2><ul>
<li>初识的HTTP通信要求每次通信都要断开TCP</li>
<li>应对策略<ul>
<li>HTTP Persistent Connections( 别名：HTTP keep-alive或HTTP connection reuse)</li>
</ul>
</li>
<li>HTTP/1.1中默认使用持久化连接</li>
</ul>
<h2 id="管线化"><a href="#管线化" class="headerlink" title="管线化"></a>管线化</h2><p>持久连接使得多数请求以管线化（pipelining)方式发送成为可能，不用等响应即可发送下一个请求</p>
<h2 id="使用Cookie"><a href="#使用Cookie" class="headerlink" title="使用Cookie"></a>使用Cookie</h2><p>Cookie通过在请求和响应报文中写入Cookie来控制客户端的状态</p>
<p>Cookie根据响应报文中的set-Cookie的首部字段通知客户端保存Cookie</p>
<p>加入Cookie后的请求流程：</p>
<ul>
<li>1.客户端请求：首部不含Cookie</li>
<li>2.服务端响应：响应报文中含有通知客户端保存Cookie的字段，客户端保存Cookie</li>
<li>3.客户端请求：首部自动添加上保存的Cookie</li>
</ul>
<h1 id="HTTP报文内的信息"><a href="#HTTP报文内的信息" class="headerlink" title="HTTP报文内的信息"></a>HTTP报文内的信息</h1><h2 id="HTTP报文"><a href="#HTTP报文" class="headerlink" title="HTTP报文"></a>HTTP报文</h2><p>构成：</p>
<ul>
<li>多行字符串构成的字符串文本（换行由回车符CR（16进制0x0d）+ 换行符LF(16进制0x0a)）</li>
<li>报文大致分为：报文首部+报文主体</li>
</ul>
<p>图示：</p>
<ul>
<li>请求报文结构</li>
</ul>
<p><img src="/" class="lazyload" data-src="https://img-blog.csdnimg.cn/20191214151028968.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDcwMTc5,size_16,color_FFFFFF,t_70"  alt="在这里插入图片描述"></p>
<ul>
<li>响应报文结构</li>
</ul>
<p><img src="/" class="lazyload" data-src="https://img-blog.csdnimg.cn/20191214151040318.png"  alt="在这里插入图片描述"></p>
<ul>
<li><p>请求行：</p>
<ul>
<li>请求的方法 + 请求URI + HTTP版本</li>
</ul>
</li>
<li><p>状态行：</p>
<ul>
<li>响应结果状态码 + 原因短语 + HTTP版本</li>
</ul>
</li>
<li><p>首部字段：</p>
<ul>
<li>请求、响应的各种条件和属性的各类首部</li>
</ul>
</li>
<li><p>其它：</p>
<ul>
<li>可能含有HTTP中未定义的首部（Cookie等）</li>
</ul>
</li>
</ul>
<h2 id="编码提升传输效率"><a href="#编码提升传输效率" class="headerlink" title="编码提升传输效率"></a>编码提升传输效率</h2><h2 id="报文主体和实体"><a href="#报文主体和实体" class="headerlink" title="报文主体和实体"></a>报文主体和实体</h2><p>报文：HTTP通信中的基本单位， 8位组字节流组成</p>
<p>实体</p>
<ul>
<li>作用：作为请求或响应的载荷数据</li>
<li>内容：实体首部+实体主体</li>
</ul>
<h2 id="压缩内容"><a href="#压缩内容" class="headerlink" title="压缩内容"></a>压缩内容</h2><p>HTTP中的内容编码的功能可进行类似压缩内容的操作</p>
<p>类型：</p>
<ul>
<li>gzip(Group zip)</li>
<li>compress(UNIX系统标准压缩)</li>
<li>deflate(zlib)</li>
<li>identity(不编码)</li>
</ul>
<h2 id="分割发送（CHunked-Transfer）"><a href="#分割发送（CHunked-Transfer）" class="headerlink" title="分割发送（CHunked Transfer）"></a>分割发送（CHunked Transfer）</h2><ul>
<li>数据分割成多块可实现浏览器内容的部分显示</li>
<li>把实体主体分块的功能称为分块传输编码</li>
<li>每块使用16进制编码，实体主体的最后一块采用0（CR+LF）来标记</li>
</ul>
<h2 id="多种数据的对象集合"><a href="#多种数据的对象集合" class="headerlink" title="多种数据的对象集合"></a>多种数据的对象集合</h2><p>采用了MIME（Multipurpose Internet Mail Extensions）机制</p>
<p>内容：</p>
<ul>
<li>multipart/form-data<ul>
<li>web表单上传文件使用</li>
</ul>
</li>
<li>multipart/byteranges<ul>
<li>状态码206响应报文包含了多个范围的内容时使用</li>
</ul>
</li>
</ul>
<p>格式：</p>
<ul>
<li><p>boundary字符串划分多部分对象集合指明的各类实体</p>
</li>
<li><p>实体起始行前加入–</p>
</li>
<li><p>多部分集合最后加入–</p>
</li>
<li><p>多部分集合的每个部分类型中都包含首部字段，另外各个部分中嵌套使用多部分对象集合‘</p>
</li>
</ul>
<h2 id="获取部分内容的范围请求"><a href="#获取部分内容的范围请求" class="headerlink" title="获取部分内容的范围请求"></a>获取部分内容的范围请求</h2><p>首部字段指定资源的byte范围</p>
<ul>
<li>5001~1000字节</li>
</ul>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Range</span>: bytes=5001-10000</span><br></pre></td></tr></table></figure>

<ul>
<li>5001之后全部</li>
</ul>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Range</span>: bytes=5001-</span><br></pre></td></tr></table></figure>

<p>多重范围：0-2000 ， 4000-6000</p>
<ul>
<li>返回状态码：306</li>
<li>响应首部字段：Content-Type标明multipart/byteranges</li>
</ul>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Range</span>: bytes=0-2000, 4000-6000</span><br></pre></td></tr></table></figure>

<h2 id="内容协商返回最合适的内容"><a href="#内容协商返回最合适的内容" class="headerlink" title="内容协商返回最合适的内容"></a>内容协商返回最合适的内容</h2><p>相同URI返回不同界面，机制称为内容协商（Content Negotiation）</p>
<p>判断标准：</p>
<ul>
<li>Accept</li>
<li>Accept-Charset</li>
<li>Accept-Encoding</li>
<li>Accept-Language</li>
<li>Content-Language</li>
</ul>
<p>服务器驱动协商（Server-driven Negotiation）</p>
<ul>
<li>由服务端进行内容协商。</li>
<li>请求首部字段为参考，服务器端自动处理</li>
</ul>
<p>客户端驱动协商（Agent-driven Negotiation）</p>
<ul>
<li>客户端进行内容协商</li>
</ul>
<p>透明协商（Transparent Negotiation）</p>
<ul>
<li>由服务端和客户端各自进行内容协商</li>
</ul>
<h1 id="HTTP返回状态码"><a href="#HTTP返回状态码" class="headerlink" title="HTTP返回状态码"></a>HTTP返回状态码</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><ul>
<li><p>返回状态码分三位：状态类别+两位无类别码</p>
</li>
<li><p>状态码列表</p>
<table>
<thead>
<tr>
<th>状态码</th>
<th>类别</th>
<th>原因短语</th>
</tr>
</thead>
<tbody><tr>
<td>1XX</td>
<td>informational（信息性状态码）</td>
<td>接收的请求正在处理</td>
</tr>
<tr>
<td>2XX</td>
<td>Success（成功状态码）</td>
<td>请求正常处理完毕</td>
</tr>
<tr>
<td>3XX</td>
<td>Redirection（重定向状态码）</td>
<td>需要进行附加操作完成请求</td>
</tr>
<tr>
<td>4XX</td>
<td>Client Error（客户端错误码）</td>
<td>服务器无法处理请求</td>
</tr>
<tr>
<td>5XX</td>
<td>Server Error（服务器错误状态码）</td>
<td>服务器处理请求出错</td>
</tr>
</tbody></table>
</li>
</ul>
<h2 id="常用状态码"><a href="#常用状态码" class="headerlink" title="常用状态码"></a>常用状态码</h2><h3 id="2XX-成功"><a href="#2XX-成功" class="headerlink" title="2XX 成功"></a>2XX 成功</h3><p>200 OK</p>
<ul>
<li>客户端的请求在服务器端被正常处理了</li>
<li>在响应报文内随状态码一起返回的信息会因方法的不同而发生改变</li>
</ul>
<p>204 No Content</p>
<ul>
<li>服务器接收的请求已成功处理，但在返回的报文中不含实体的主体部分，不允许返回任何实体</li>
<li>浏览器页面不更新</li>
</ul>
<p>206 Partial Content</p>
<ul>
<li>客户端发起范围请求，服务端指行了这次GET请求</li>
<li>响应报文中包含由Conent-Range指定的范围实体内容</li>
</ul>
<h3 id="3XX-重定向"><a href="#3XX-重定向" class="headerlink" title="3XX  重定向"></a>3XX  重定向</h3><blockquote>
<p>浏览器需要执行某些特殊处理以正确处理请求</p>
<p>返回码为：301,302,303时几乎所有浏览器会将POST改为GET，并删除请求报文内的主体，之后再次发送</p>
<p>301，302标准禁止将POST改为GET，但使用时会这么做</p>
</blockquote>
<p>301 Moved Permanently</p>
<ul>
<li>永久性重定向</li>
<li>所请求资源已被分配了新的URI，以后应该使用资源现在所指的URI</li>
</ul>
<p>302 Not Found</p>
<ul>
<li>临时性重定向</li>
<li>所请求资源已被分配了新的URI，希望本次用户能使用新的URI访问</li>
<li>表示资源不是被永久移动，而是临时性移动，将来还可能再变化</li>
</ul>
<p>303 Seee Other</p>
<ul>
<li>请求对应的资源存在着另外一个URI，应使用GET定向获取请求的资源</li>
</ul>
<p>304 Not Modified</p>
<ul>
<li>客户端发送附带条件的请求，服务器端允许请求访问资源，条件不满足</li>
<li>服务端资源未改变，可直接使用客户端未过期的缓存</li>
<li>状态码返回时，不含任何响应主体部分</li>
</ul>
<p>307 Temporary Redirect</p>
<ul>
<li>临时重定向</li>
<li>307会遵照浏览器协议，不会从POST变成GET处理响应是的行为，每种浏览器出现情况不同</li>
</ul>
<h3 id="4XX-客户端错误"><a href="#4XX-客户端错误" class="headerlink" title="4XX 客户端错误"></a>4XX 客户端错误</h3><blockquote>
<p>客户端是发生错误所在</p>
</blockquote>
<p>400 Bad Request</p>
<ul>
<li>请求报文中存在语法错误</li>
</ul>
<p>401 Unauthorized</p>
<ul>
<li>发送的请求需要有HTTP认证（BASIC认证，DIGEST认证）的认证信息</li>
<li>此前已进行过一次请求则表示用户认证失败</li>
<li>响应需要包含一个适用于被请求资源的WWW-Authenticate首部用以质询用户信息</li>
<li>浏览器初次接收到401会弹出认证窗口</li>
</ul>
<p>403 Forbidden</p>
<ul>
<li>请求资源的访问被拒绝了</li>
<li>服务端没有必要给出详细理由<ul>
<li>需要显示理由，可在主体中添加东西</li>
</ul>
</li>
<li>不具有文件系统的访问权限也可能是发生403的原因</li>
</ul>
<p>404 Not Found</p>
<ul>
<li>服务器上没有请求的资源</li>
<li>服务器拒绝请求，且不打算说明理由时使用</li>
</ul>
<h3 id="5XX-服务器错误"><a href="#5XX-服务器错误" class="headerlink" title="5XX 服务器错误"></a>5XX 服务器错误</h3><p>500 Internal Server Error</p>
<ul>
<li>服务端在执行请求时发生了错误</li>
</ul>
<p>503 Service Unavailable</p>
<ul>
<li>服务器暂时处于超负荷或者正在停机维护中，无法处理请求</li>
<li>若知道解除以上状况需要的时间可以写入Retry-After字段</li>
</ul>
<h1 id="Web服务器相关概念"><a href="#Web服务器相关概念" class="headerlink" title="Web服务器相关概念"></a>Web服务器相关概念</h1><h2 id="单虚拟机实现多域名"><a href="#单虚拟机实现多域名" class="headerlink" title="单虚拟机实现多域名"></a>单虚拟机实现多域名</h2><ul>
<li>HTTP/1.1规范允许一台HTTP服务器搭建多个Web站点（利用了虚拟主机的功能：Virtual Host，虚拟服务器）</li>
<li>相同地址下虚拟主机可寄存多个不同主机名和域名的网站，请求时需要在Host首部内完整指定主机名或域名的URI</li>
</ul>
<h2 id="通信数据转发处理程序"><a href="#通信数据转发处理程序" class="headerlink" title="通信数据转发处理程序"></a>通信数据转发处理程序</h2><blockquote>
<p>使用代理可以减少网络带宽的流量，组织内部对特定网站进行访问控制等等</p>
</blockquote>
<h3 id="代理"><a href="#代理" class="headerlink" title="代理"></a>代理</h3><ul>
<li>具有转发功能的<strong>应用程序</strong></li>
<li>不改变请求URI，直接发送给拥有资源的服务器（源服务器）</li>
<li>分类基准：<ul>
<li>是否使用缓存</li>
<li>是否修改报文</li>
</ul>
</li>
</ul>
<h4 id="缓存代理-Caching-Proxy"><a href="#缓存代理-Caching-Proxy" class="headerlink" title="缓存代理(Caching Proxy)"></a>缓存代理(Caching Proxy)</h4><p>预先将资源的副本保存在代理服务器上</p>
<h4 id="透明代理（Transparent-Proxy）"><a href="#透明代理（Transparent-Proxy）" class="headerlink" title="透明代理（Transparent Proxy）"></a>透明代理（Transparent Proxy）</h4><p>不对报文做任何加工的代理类型</p>
<h4 id="非透明代理"><a href="#非透明代理" class="headerlink" title="非透明代理"></a>非透明代理</h4><p>对报文进行加工的代理</p>
<h3 id="网关"><a href="#网关" class="headerlink" title="网关"></a>网关</h3><ul>
<li>转发其它服务器通信数据的<strong>服务器</strong></li>
<li>可使通信线路上的服务器提供非HTTP协议服务</li>
<li>可提高通信安全，可在客户端和网关之间的通信线路上加密以确保连接安全</li>
</ul>
<h3 id="隧道"><a href="#隧道" class="headerlink" title="隧道"></a>隧道</h3><ul>
<li>相隔甚远的客户端和服务器两者之间进行<strong>中转</strong>，并保持双方<strong>通信连接</strong></li>
<li>保证客户端和服务端可进行安全的通信，其本身并不会解析HTTP请求</li>
<li>隧道会在通信双方断开连接时结束</li>
</ul>
<h2 id="保存资源的缓存"><a href="#保存资源的缓存" class="headerlink" title="保存资源的缓存"></a>保存资源的缓存</h2><p>优势避免多次从源服务器转发资源，客户端可以就近从缓存服务器上获取资源</p>
<h3 id="缓存有效期"><a href="#缓存有效期" class="headerlink" title="缓存有效期"></a>缓存有效期</h3><p>即使存在缓存也会因客户端要求，缓存有效期等因素，确认资源的有效性</p>
<h3 id="客户端缓存"><a href="#客户端缓存" class="headerlink" title="客户端缓存"></a>客户端缓存</h3><p>客户端一般也会存放部分缓存数据，客户端缓存称为临时网络文件（Trmporary Internet Explorer）</p>
<h1 id="HTTP首部"><a href="#HTTP首部" class="headerlink" title="HTTP首部"></a>HTTP首部</h1><h2 id="字段结构"><a href="#字段结构" class="headerlink" title="字段结构"></a>字段结构</h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">首部字段名: 字段值</span><br></pre></td></tr></table></figure>

<h2 id="字段类型"><a href="#字段类型" class="headerlink" title="字段类型"></a>字段类型</h2><blockquote>
<p>依据实际用途分</p>
</blockquote>
<p>通用首部字段（General Header Fields）</p>
<ul>
<li>请求响应双方都会使用</li>
</ul>
<p>请求首部字段（Request Header Fields)</p>
<ul>
<li>客户端向服务端发送请求报文时使用的首部， 补充请求附加内容</li>
</ul>
<p>响应首部字段（Response Header Fields）</p>
<ul>
<li>服务器响应时使用的首部字段，补充响应附加内容</li>
</ul>
<p>实体首部字段（Entity Header Fields）</p>
<ul>
<li>针对请求报文和响应报文的实体部分使用的首部，补充与实体有关的信息</li>
</ul>
<h2 id="HTTP-1-1-首部字段一览"><a href="#HTTP-1-1-首部字段一览" class="headerlink" title="HTTP/1.1 首部字段一览"></a>HTTP/1.1 首部字段一览</h2><h3 id="通用首部字段"><a href="#通用首部字段" class="headerlink" title="通用首部字段"></a>通用首部字段</h3><table>
<thead>
<tr>
<th align="left">首部字段名</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Cache-Control</td>
<td align="left">控制缓存的行为</td>
</tr>
<tr>
<td align="left">Connection</td>
<td align="left">逐跳首部、连接的管理</td>
</tr>
<tr>
<td align="left">Date</td>
<td align="left">创建报文的日期时间</td>
</tr>
<tr>
<td align="left">Pragma</td>
<td align="left">报文指令</td>
</tr>
<tr>
<td align="left">Trailer</td>
<td align="left">报文末端的首部一览</td>
</tr>
<tr>
<td align="left">Transfer-Encoding</td>
<td align="left">指定报文主体的传输编码方式</td>
</tr>
<tr>
<td align="left">Upgrade</td>
<td align="left">升级为其他协议</td>
</tr>
<tr>
<td align="left">Via</td>
<td align="left">代理服务器的相关信息</td>
</tr>
<tr>
<td align="left">Warning</td>
<td align="left">错误通知</td>
</tr>
</tbody></table>
<h3 id="请求首部字段"><a href="#请求首部字段" class="headerlink" title="请求首部字段"></a>请求首部字段</h3><table>
<thead>
<tr>
<th align="left">首部字段名</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Accept</td>
<td align="left">用户代理可处理的媒体类型</td>
</tr>
<tr>
<td align="left">Accept-Charset</td>
<td align="left">优先的字符集</td>
</tr>
<tr>
<td align="left">Accept-Encoding</td>
<td align="left">优先的内容编码</td>
</tr>
<tr>
<td align="left">Accept-Language</td>
<td align="left">优先的语言（自然语言）</td>
</tr>
<tr>
<td align="left">Authorization</td>
<td align="left">Web认证信息</td>
</tr>
<tr>
<td align="left">Expect</td>
<td align="left">期待服务器的特定行为</td>
</tr>
<tr>
<td align="left">From</td>
<td align="left">用户的电子邮箱地址</td>
</tr>
<tr>
<td align="left">Host</td>
<td align="left">请求资源所在服务器</td>
</tr>
<tr>
<td align="left">If-Match</td>
<td align="left">比较实体标记（ETag）</td>
</tr>
<tr>
<td align="left">If-Modified-Since</td>
<td align="left">比较资源的更新时间</td>
</tr>
<tr>
<td align="left">If-None-Match</td>
<td align="left">比较实体标记（与 If-Match 相反）</td>
</tr>
<tr>
<td align="left">If-Range</td>
<td align="left">资源未更新时发送实体 Byte 的范围请求</td>
</tr>
<tr>
<td align="left">If-Unmodified-Since</td>
<td align="left">比较资源的更新时间（与If-Modified-Since相反）</td>
</tr>
<tr>
<td align="left">Max-Forwards</td>
<td align="left">最大传输逐跳数</td>
</tr>
<tr>
<td align="left">Proxy-Authorization</td>
<td align="left">代理服务器要求客户端的认证信息</td>
</tr>
<tr>
<td align="left">Range</td>
<td align="left">实体的字节范围请求</td>
</tr>
<tr>
<td align="left">Referer</td>
<td align="left">对请求中 URI 的原始获取方</td>
</tr>
<tr>
<td align="left">TE</td>
<td align="left">传输编码的优先级</td>
</tr>
<tr>
<td align="left">User-Agent</td>
<td align="left">HTTP 客户端程序的信息</td>
</tr>
</tbody></table>
<h3 id="响应首部字段"><a href="#响应首部字段" class="headerlink" title="响应首部字段"></a>响应首部字段</h3><table>
<thead>
<tr>
<th>首部字段名</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>Accept-Ranges</td>
<td>是否接受字节范围请求</td>
</tr>
<tr>
<td>Age</td>
<td>推算资源创建经过时间</td>
</tr>
<tr>
<td>ETag</td>
<td>资源的匹配信息</td>
</tr>
<tr>
<td>Location</td>
<td>令客户端重定向至指定URI</td>
</tr>
<tr>
<td>Proxy-Authenticate</td>
<td>代理服务器对客户端的认证信息</td>
</tr>
<tr>
<td>Retry-After</td>
<td>对再次发起请求的时机要求</td>
</tr>
<tr>
<td>Server</td>
<td>HTTP服务器的安装信息</td>
</tr>
<tr>
<td>Vary</td>
<td>代理服务器缓存的管理信息</td>
</tr>
<tr>
<td>WWW-Authenticate</td>
<td>服务器对客户端的认证信息</td>
</tr>
</tbody></table>
<h3 id="实体首部字段"><a href="#实体首部字段" class="headerlink" title="实体首部字段"></a>实体首部字段</h3><table>
<thead>
<tr>
<th>首部字段名</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>Allow</td>
<td>资源可支持的HTTP方法</td>
</tr>
<tr>
<td>Content-Encoding</td>
<td>实体主体适用的编码方式</td>
</tr>
<tr>
<td>Content-Language</td>
<td>实体主体的自然语言</td>
</tr>
<tr>
<td>Content-Length</td>
<td>实体主体的大小（单位：字节）</td>
</tr>
<tr>
<td>Content-Location</td>
<td>替代对应资源的URI</td>
</tr>
<tr>
<td>Content-MD5</td>
<td>实体主体的报文摘要</td>
</tr>
<tr>
<td>Content-Range</td>
<td>实体主体的位置范围</td>
</tr>
<tr>
<td>Content-Type</td>
<td>实体主体的媒体类型</td>
</tr>
<tr>
<td>Expires</td>
<td>实体主体过期的日期时间</td>
</tr>
<tr>
<td>Last-Modified</td>
<td>资源的最后修改日期时间</td>
</tr>
</tbody></table>
<h2 id="非HTTP-1-1首部字段"><a href="#非HTTP-1-1首部字段" class="headerlink" title="非HTTP/1.1首部字段"></a>非HTTP/1.1首部字段</h2><p>在HTTP协议通信交互中使用到的首部字段，不限于RFC2616中定义的47中字段，还有Cookie，Set-Cookie和Content-DIsposition等。这些字段归纳在REF4229 HTTP Header Field Registrations中</p>
<h2 id="End-to-end首部和Ho-by-hop首部"><a href="#End-to-end首部和Ho-by-hop首部" class="headerlink" title="End-to-end首部和Ho-by-hop首部"></a>End-to-end首部和Ho-by-hop首部</h2><blockquote>
<p>HTTP首部将定义成缓存代理和非缓存代理的行为分成两种：端到端首部，逐跳首部</p>
</blockquote>
<p>端到端首部（End-to-end）</p>
<ul>
<li>此类首部会转发给请求或响应的最终目标</li>
<li>要求：<ul>
<li>必须保存在由缓存生成的响应中</li>
<li>必须被转发</li>
</ul>
</li>
</ul>
<p>逐跳首部（Hop-by-hop Header）</p>
<ul>
<li>此类中的首部只对单次转发有效，会因通过缓存或者代理而不再转发</li>
<li>若要使用hop-by-hop首部需要提供Connection首部字段</li>
<li>详细字段：<ul>
<li>Connection</li>
<li>Keep-Alive</li>
<li>Proxy-Authenticate</li>
<li>Proxy-Authorization</li>
<li>Trailer</li>
<li>TE</li>
<li>Transfer-Encoding</li>
<li>Upgrade</li>
</ul>
</li>
</ul>
<blockquote>
<p>除以上字段外都是端到端首部字段</p>
</blockquote>
<h2 id="HTTP-1-1-通用首部字段"><a href="#HTTP-1-1-通用首部字段" class="headerlink" title="HTTP/1.1 通用首部字段"></a>HTTP/1.1 通用首部字段</h2><p>请求响应都会用到的首部</p>
<h3 id="Cache-Control"><a href="#Cache-Control" class="headerlink" title="Cache-Control"></a>Cache-Control</h3><blockquote>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Cache-Control" target="_blank" rel="noopener">推荐阅览1</a></p>
</blockquote>
<p>缓存请求指令一览</p>
<table>
<thead>
<tr>
<th>指令</th>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>no-cache</td>
<td>无</td>
<td>强制向服务器再次验证</td>
</tr>
<tr>
<td>no-store</td>
<td>无</td>
<td>不缓存请求或响应的任何内容</td>
</tr>
<tr>
<td>max-age</td>
<td>必须</td>
<td>响应的最大Age</td>
</tr>
<tr>
<td>max-stale</td>
<td>可省略</td>
<td>接收已过期的响应</td>
</tr>
<tr>
<td>min-fresh</td>
<td>必须</td>
<td>期望在指定时间内的响应仍有效</td>
</tr>
<tr>
<td>no-transform</td>
<td>无</td>
<td>代理不可更改媒体类型</td>
</tr>
<tr>
<td>only-if-cache</td>
<td>无</td>
<td>从缓存获取资源</td>
</tr>
<tr>
<td>cache-extension</td>
<td>-</td>
<td>新指令标记（token)</td>
</tr>
</tbody></table>
<p>缓存响应指令一览</p>
<table>
<thead>
<tr>
<th>public</th>
<th>无</th>
<th>可向任意方提供响应的缓存</th>
</tr>
</thead>
<tbody><tr>
<td>private</td>
<td>可省略</td>
<td>仅向特定用户提供响应的缓存</td>
</tr>
<tr>
<td>no-cache</td>
<td>可省略</td>
<td>缓存前必须先确认其有效性</td>
</tr>
<tr>
<td>no-store</td>
<td>无</td>
<td>不缓存请求或响应的任何内容</td>
</tr>
<tr>
<td>no-transform</td>
<td>无</td>
<td>代理不可更改媒体类型</td>
</tr>
<tr>
<td>must-revalidate</td>
<td>无</td>
<td>可缓存但必须再向源服务器进行确认</td>
</tr>
<tr>
<td>proxy-revalidate</td>
<td>无</td>
<td>要求中间缓存服务器对缓存的响应有效性再进行确认</td>
</tr>
<tr>
<td>max-age</td>
<td>必需</td>
<td>响应的最大Age值</td>
</tr>
<tr>
<td>s-maxage</td>
<td>必需</td>
<td>公共缓存服务器响应的最大Age值</td>
</tr>
<tr>
<td>cache-extension</td>
<td>-</td>
<td>新指令标记（token)</td>
</tr>
</tbody></table>
<blockquote>
<p>cache-extension实现对Cache-Control首部指令的添加，但只有能识别的服务器才有效，否则会被忽略</p>
</blockquote>
<h3 id="Connection"><a href="#Connection" class="headerlink" title="Connection"></a>Connection</h3><p>控制不再转发给代理的首部字段</p>
<p>格式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Connection: 不再转发的字段名</span><br></pre></td></tr></table></figure>

<p>示例：</p>
<ul>
<li><p>代码：</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Upgrade: HTTP/1.1</span><br><span class="line">Connection: Upgrade</span><br></pre></td></tr></table></figure>


</li>
</ul>
<p>效果：</p>
<ul>
<li>客户端发请求—&gt;服务端</li>
<li>服务端响应（将Upgrade删除）—&gt;客户端</li>
</ul>
<p>管理持久连接</p>
<ul>
<li><p>格式：</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">服务端想断开连接时设置字段：Connection: close</span><br><span class="line"></span><br><span class="line">服务端想保持连接时: Connection: Keep-Alive</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="Date"><a href="#Date" class="headerlink" title="Date"></a>Date</h3><p>表明报文创建日期</p>
<p>格式：</p>
<ul>
<li><p>RFC1123规定格式：</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Date: Tue, 04 Jul 2019 04:30:34 GMT</span><br></pre></td></tr></table></figure>
</li>
<li><p>另外一种格式：</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Date：Tue Jul 04 04:30:34 2019</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="Pragma"><a href="#Pragma" class="headerlink" title="Pragma"></a>Pragma</h3><ul>
<li><p>历史遗留字段，仅作为与HTTP/1.0向后兼容定义</p>
</li>
<li><p>请求转发过程中的所有中间服务器不缓存，Pragma：no-cache</p>
</li>
<li><p>所有中间服务器都支持HTTP/1.1则可直接使用Cache-Control: no-cache</p>
</li>
<li><p>若不确定，为保险起见使用：</p>
  <figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Cache-Control</span>: no-cache</span><br><span class="line"><span class="attribute">Pragma</span>: no-cache</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="Trailer"><a href="#Trailer" class="headerlink" title="Trailer"></a>Trailer</h3><p>会说明在报文主体后记录了哪些首部字段，该首部字段可应用在HTTP/1.1版本分块传输编码时</p>
<h3 id="Transfer-Encoding"><a href="#Transfer-Encoding" class="headerlink" title="Transfer-Encoding"></a>Transfer-Encoding</h3><p>规定传输报文主体时的编码方式</p>
<h3 id="Upgrade"><a href="#Upgrade" class="headerlink" title="Upgrade"></a>Upgrade</h3><p>指定一个完全不同的通信协议</p>
<ul>
<li>使用Upgrade，需要同时使用：Connection: Upgrade</li>
</ul>
<h3 id="Via"><a href="#Via" class="headerlink" title="Via"></a>Via</h3><p>为了追踪客户端与服务器之间的请求和响应报文的传输路径，报文经过代理或网关时会在首部Via中附加该服务器的信息，再进行转发</p>
<ul>
<li>作用:<ul>
<li>追踪报文转发的路径</li>
<li>避免请求回环的发生</li>
</ul>
</li>
</ul>
<blockquote>
<p>通常和TRACE 方法一起使用</p>
</blockquote>
<h3 id="Warning"><a href="#Warning" class="headerlink" title="Warning"></a>Warning</h3><p>演变来源HTTP/1.0的响应首部（Retry-After)</p>
<p>通常会告知用户一些与缓存相关的问题的警告</p>
<ul>
<li><p>格式：</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Warning: [警告码][警告的主机:端口号]"[警告内容]"（[日期时间]）</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="请求首部字段-1"><a href="#请求首部字段-1" class="headerlink" title="请求首部字段"></a>请求首部字段</h2><h3 id="Accept"><a href="#Accept" class="headerlink" title="Accept"></a>Accept</h3><blockquote>
<p>媒体类型添加优先级：</p>
<p>使用q=表示权重（值越大优先级越高），分号进行分割，范围（0-1），精度：小数点后三位</p>
</blockquote>
<p>用户代理能够处理的媒体类型及媒体类型的相对优先级</p>
<p>可使用：type/subtype一次指定多种媒体类型</p>
<ul>
<li>文本文件</li>
<li>图片文件</li>
<li>视频文件</li>
<li>应用程序使用的二进制文件</li>
</ul>
<h3 id="Accept-Charset"><a href="#Accept-Charset" class="headerlink" title="Accept-Charset"></a>Accept-Charset</h3><p>告知服务器用户代理支持的字符集及字符集的相对优先顺序，可一次指定多个，q为权重</p>
<h3 id="Accept-Encoding"><a href="#Accept-Encoding" class="headerlink" title="Accept-Encoding"></a>Accept-Encoding</h3><p>告知服务器用户代理支持的编码内容及内容编码的优先顺序，可一次指定多个，q为权重</p>
<p>可使用 * 作为通配符，指定任意编码格式</p>
<h3 id="Accept-Language"><a href="#Accept-Language" class="headerlink" title="Accept-Language"></a>Accept-Language</h3><p>告知服务器用户代理能够处理的自然语言集，及自然语言集的相对优先级，可一次指定更多个，q为权重</p>
<h3 id="Authorization"><a href="#Authorization" class="headerlink" title="Authorization"></a>Authorization</h3><p>告知服务器用户代理的认证信息</p>
<h3 id="Expect"><a href="#Expect" class="headerlink" title="Expect"></a>Expect</h3><p>告知服务器期望出现的某种特定行为</p>
<p>服务器无法理解时返回417 Exception Failed</p>
<h3 id="From"><a href="#From" class="headerlink" title="From"></a>From</h3><p>告知服务器使用用户代理的用户电子邮件地址</p>
<h3 id="Host"><a href="#Host" class="headerlink" title="Host"></a>Host</h3><p>告知服务器请求的资源所处的互联网主机名和端口号</p>
<h3 id="If-Match"><a href="#If-Match" class="headerlink" title="If-Match"></a>If-Match</h3><blockquote>
<p>服务器收到请求后，判断条件为真时执行请求</p>
</blockquote>
<p>告知服务器匹配资源所用的实体标记值</p>
<ul>
<li>服务器会比对请求的ETag与资源的ETag值<ul>
<li>一致=&gt;执行请求</li>
<li>不一致=&gt;41 Precondition Failed</li>
</ul>
</li>
<li>若 If-Match值为 * 则会忽略此值</li>
</ul>
<h3 id="If-Modified-Since"><a href="#If-Modified-Since" class="headerlink" title="If-Modified-Since"></a>If-Modified-Since</h3><p>若字段值早于资源的更新时间期望处理该请求</p>
<ul>
<li>资源未更新=&gt;304 Not Modified</li>
</ul>
<p>用来确认资源有效性</p>
<ul>
<li>获取资源的更新时间：通过确认首部字段Last-Modified</li>
</ul>
<h3 id="If-None-Match"><a href="#If-None-Match" class="headerlink" title="If-None-Match"></a>If-None-Match</h3><p>字段值与资源ETag不一致，告知服务器处理请求</p>
<p>GET或HEAD方法中使用此字段获取最新资源</p>
<h3 id="If-Range"><a href="#If-Range" class="headerlink" title="If-Range"></a>If-Range</h3><p>告知服务器若指定的If-Range字段值与请求资源的ETag值或时间一致，作为范围请求处理，否则，返回全部实体</p>
<h3 id="If-Unmodified-Since"><a href="#If-Unmodified-Since" class="headerlink" title="If-Unmodified-Since"></a>If-Unmodified-Since</h3><p>指定的请求资源只有在字段值内指定的日期之后，未发生更新，则处理请求</p>
<h3 id="Max-Forwards"><a href="#Max-Forwards" class="headerlink" title="Max-Forwards"></a>Max-Forwards</h3><p>TRACE或OPTIONS发送含该字段请求时，该字段以10进制整数形式指定可经过的服务器最大数目，每经过一个减一，为0时直接返回响应，不再转发</p>
<h3 id="Proxy-Authorization"><a href="#Proxy-Authorization" class="headerlink" title="Proxy-Authorization"></a>Proxy-Authorization</h3><p>告知服务器认证所需要的信息</p>
<h3 id="Range"><a href="#Range" class="headerlink" title="Range"></a>Range</h3><p>需求资源的范围</p>
<h3 id="Referer"><a href="#Referer" class="headerlink" title="Referer"></a>Referer</h3><blockquote>
<p>正确拼写：Referrer</p>
</blockquote>
<p>告知服务器请求的原始资源的URI</p>
<p>处于安全性考虑可以不发送该字段</p>
<h3 id="TE"><a href="#TE" class="headerlink" title="TE"></a>TE</h3><p>告知服务器客户端能够处理响应的传输编码方式及相对优先级</p>
<p>可指定trailer字段的分块传输编码方式</p>
<ul>
<li><p>应用时，将trailers赋值给该字段值</p>
</li>
<li><p>例如：</p>
  <figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">TE</span>: trailers</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="User-Agent"><a href="#User-Agent" class="headerlink" title="User-Agent"></a>User-Agent</h3><p>会将创建请求的浏览器和用户代理名称等信息发给服务器</p>
<h2 id="响应首部字段-1"><a href="#响应首部字段-1" class="headerlink" title="响应首部字段"></a>响应首部字段</h2><h3 id="Accept-Ranges"><a href="#Accept-Ranges" class="headerlink" title="Accept-Ranges"></a>Accept-Ranges</h3><p>告知客户端服务端能否处理范围请求</p>
<ul>
<li>能=&gt;指定为bytes</li>
<li>不能=&gt;none</li>
</ul>
<h3 id="Age"><a href="#Age" class="headerlink" title="Age"></a>Age</h3><p>告知客户端源服务器在多久之前创建了响应</p>
<p>单位：秒</p>
<h3 id="Etag"><a href="#Etag" class="headerlink" title="Etag"></a>Etag</h3><p>告知客户端实体标识（可将资源以字符串形式做唯一性标识的方式）</p>
<p>服务器根据每份资源分配对应的ETage值</p>
<ul>
<li>分类：<ul>
<li>强Etag:<ul>
<li>无论发生多磨细微的变化都会改变其值</li>
</ul>
</li>
<li>弱Etag<ul>
<li>只用于提示资源是否相同，只有发生差异时才会改变ETag的值</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="Location"><a href="#Location" class="headerlink" title="Location"></a>Location</h3><p>将响应接收方引导至某个与请求URI位置不同的资源</p>
<ul>
<li>一般配合3xx ：Redirection的响应，提供重定向的URI</li>
</ul>
<h3 id="Proxy-Authenticate"><a href="#Proxy-Authenticate" class="headerlink" title="Proxy-Authenticate"></a>Proxy-Authenticate</h3><p>代理服务器要求的认证信息发给客户端</p>
<h3 id="Retry-After"><a href="#Retry-After" class="headerlink" title="Retry-After"></a>Retry-After</h3><p>告知客户端多久之后再发送请求</p>
<p>配合503 Service Unavailable响应或3xx Redirect响应</p>
<ul>
<li>值：<ul>
<li>具体时间</li>
<li>创建响应后的秒数</li>
</ul>
</li>
</ul>
<h3 id="Server"><a href="#Server" class="headerlink" title="Server"></a>Server</h3><p>告知客户端当前服务器上安装的<strong>应用程序</strong>的信息</p>
<h3 id="Vary"><a href="#Vary" class="headerlink" title="Vary"></a>Vary</h3><p>对缓存进行控制</p>
<p>代理服务器接收到源服务器返回的包含Vary指定项的响应后若要再进行缓存，仅对请求中含有相同Vary指定首部字段的请求返回缓存</p>
<h3 id="WWW-Authenticate"><a href="#WWW-Authenticate" class="headerlink" title="WWW-Authenticate"></a>WWW-Authenticate</h3><p>告知客户端适用于请求URI所指定资源的认证方案（Basic或Digest）和带参数提示质询</p>
<h2 id="实体首部字段-1"><a href="#实体首部字段-1" class="headerlink" title="实体首部字段"></a>实体首部字段</h2><h3 id="Allow"><a href="#Allow" class="headerlink" title="Allow"></a>Allow</h3><p>告知客户端请求URI指定资源的所有HTTP方法</p>
<ul>
<li>服务器收到不支持的方法时=&gt;405 Not Allowed</li>
</ul>
<h3 id="Content-Encoding"><a href="#Content-Encoding" class="headerlink" title="Content-Encoding"></a>Content-Encoding</h3><p>告知客户端服务端对实体的主体部分选用的内容编码方式</p>
<h3 id="Content-Language"><a href="#Content-Language" class="headerlink" title="Content-Language"></a>Content-Language</h3><p>告知客户端主体实体使用的自然语言</p>
<h3 id="Content-Length"><a href="#Content-Length" class="headerlink" title="Content-Length"></a>Content-Length</h3><p>实体主体的大小（字节）</p>
<p>使用内容编码时，不能在使用Content-Length首部字段</p>
<h3 id="Content-Location"><a href="#Content-Location" class="headerlink" title="Content-Location"></a>Content-Location</h3><p>给出报文主体部分相对应的URI</p>
<h3 id="Content-MD5"><a href="#Content-MD5" class="headerlink" title="Content-MD5"></a>Content-MD5</h3><p>检查报文主体在传输过程中是否完整</p>
<h3 id="Content-Range"><a href="#Content-Range" class="headerlink" title="Content-Range"></a>Content-Range</h3><p>当前发送部分及整个实体的大小</p>
<ul>
<li><p>示例：</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Content-Range: bytes 2000-3000/6000</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="Content-Type"><a href="#Content-Type" class="headerlink" title="Content-Type"></a>Content-Type</h3><p>主体内对象的媒介的类型</p>
<h3 id="Expires"><a href="#Expires" class="headerlink" title="Expires"></a>Expires</h3><p>告知客户端资源失效日期</p>
<p>当首部字段Cache-Control有指定max-age指令时会优先处理max-age</p>
<h3 id="Last-Modified"><a href="#Last-Modified" class="headerlink" title="Last-Modified"></a>Last-Modified</h3><p>资源最后被修改时间</p>
<h2 id="为Cookie服务的首部字段"><a href="#为Cookie服务的首部字段" class="headerlink" title="为Cookie服务的首部字段"></a>为Cookie服务的首部字段</h2><blockquote>
<p>调用Cookie时，由于可校验Cookie的有效期，发送方的域，路径，协议等信息，正规发布的Cookie内的数据不会因来自其他Web站点和攻击者的攻击而泄露（其安全性有待考究）</p>
</blockquote>
<h3 id="Set-Cookie"><a href="#Set-Cookie" class="headerlink" title="Set-Cookie"></a>Set-Cookie</h3><p>属性</p>
<ul>
<li>expires<ul>
<li>指定浏览器发送Cookie的有效期</li>
</ul>
</li>
<li>path<ul>
<li>用于指定Cookie发送范围的文件目录(但有方法可避开)</li>
</ul>
</li>
<li>domain<ul>
<li>可通过domain属性的域名与结尾匹配一致</li>
</ul>
</li>
<li>secure <ul>
<li>限制Web页面只有在HTTPS情况下才可发送Cookie</li>
<li>当省略secure属性时，不论HTTP还是HTTPS都会对Cookie进行回收</li>
</ul>
</li>
<li>HttpOnly<ul>
<li>使得Javascript无法获取Cookie</li>
</ul>
</li>
</ul>
<h3 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h3><ul>
<li>客户端想获得HTTP状态管理支持时，就会在请求中包含从服务器接收到的Cookie（接收到多个也可发送多个）</li>
</ul>
<h2 id="其它首部字段"><a href="#其它首部字段" class="headerlink" title="其它首部字段"></a>其它首部字段</h2><h3 id="X-Frame-Options"><a href="#X-Frame-Options" class="headerlink" title="X-Frame-Options"></a>X-Frame-Options</h3><p>控制网站内容在其他Web网站Frame标签内的显示问题，主要防止点击劫持攻击</p>
<ul>
<li>值：<ul>
<li>DENY：拒绝</li>
<li>SAMEORING：仅同域名下的页面匹配时许可</li>
</ul>
</li>
</ul>
<h3 id="X-XSS-Protection"><a href="#X-XSS-Protection" class="headerlink" title="X-XSS-Protection"></a>X-XSS-Protection</h3><p>针对跨站脚本攻击，用于控制浏览器XSS防护开关</p>
<ul>
<li>值：<ul>
<li>1：XSS过滤设置为无效</li>
<li>0：XSS过滤设置为有效</li>
</ul>
</li>
</ul>
<h3 id="DNT"><a href="#DNT" class="headerlink" title="DNT"></a>DNT</h3><ul>
<li>Do Not Track ：拒绝个人信息采集</li>
</ul>
<h3 id="P3P（The-Partform-for-Privacy-Preferences）"><a href="#P3P（The-Partform-for-Privacy-Preferences）" class="headerlink" title="P3P（The Partform for Privacy Preferences）"></a>P3P（The Partform for Privacy Preferences）</h3><p>让个人隐私变成程序可理解的东西，达到保护用户隐私的目的</p>
<ul>
<li>设立步骤：<ul>
<li>1.创建P3P隐私</li>
<li>2.创建P3P隐私对照文件后，命名保存在/w3c/p3p.xml</li>
<li>3.从P3P隐私中新建Compact policies输出道HTTP响应中</li>
</ul>
</li>
</ul>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Alex</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://herycs.github.io/2019/07/21/network-a-http/">https://herycs.github.io/2019/07/21/network-a-http/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/http/">http</a><a class="post-meta__tags" href="/tags/network/">network</a></div><div class="post_share"><div class="social-share" data-image="/img/post.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2019/08/15/network-a-https/"><img class="prev_cover lazyload" data-src="/img/post.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">network-a-https</div></div></a></div><div class="next-post pull_right"><a href="/2019/05/23/linux-#-develop1/"><img class="next_cover lazyload" data-src="/img/post.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">linux-#-develop1.md</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> Recommend</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2019/08/15/network-a-https/" title="network-a-https"><img class="relatedPosts_cover lazyload"data-src="/img/post.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2019-08-15</div><div class="relatedPosts_title">network-a-https</div></div></a></div><div class="relatedPosts_item"><a href="/2020/03/15/network-a-communication/" title="network-a-communication.md"><img class="relatedPosts_cover lazyload"data-src="/img/post.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-03-15</div><div class="relatedPosts_title">network-a-communication.md</div></div></a></div><div class="relatedPosts_item"><a href="/2020/03/25/network-a-directNet/" title="network-a-directNet.md"><img class="relatedPosts_cover lazyload"data-src="/img/post.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-03-25</div><div class="relatedPosts_title">network-a-directNet.md</div></div></a></div><div class="relatedPosts_item"><a href="/2020/02/10/network-a-summary/" title="network-a-summary.md"><img class="relatedPosts_cover lazyload"data-src="/img/post.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-02-10</div><div class="relatedPosts_title">network-a-summary.md</div></div></a></div><div class="relatedPosts_item"><a href="/2020/05/20/network-a-interconnection/" title="network-a-interconnection.md"><img class="relatedPosts_cover lazyload"data-src="/img/post.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-05-20</div><div class="relatedPosts_title">network-a-interconnection.md</div></div></a></div></div><div class="clear_both"></div></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 By Alex</div><div class="framework-info"><span>Driven </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="Read Mode"></i><i class="fa fa-plus" id="font_plus" title="Increase font size"></i><i class="fa fa-minus" id="font_minus" title="Decrease font size"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="Traditional Chinese and Simplified Chinese Conversion" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="Dark Mode"></i></div><div id="rightside-config-show"><div id="rightside_config" title="Setting"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="Table of Contents" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="Back to top" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script></body></html>