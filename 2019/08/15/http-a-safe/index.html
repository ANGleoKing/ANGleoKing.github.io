<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>http-a-safe.md | Alex</title><meta name="description" content="http-a-safe.md"><meta name="keywords" content="http"><meta name="author" content="Alex"><meta name="copyright" content="Alex"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="http-a-safe.md"><meta name="twitter:description" content="http-a-safe.md"><meta name="twitter:image" content="https://herycs.github.io/img/post.jpg"><meta property="og:type" content="article"><meta property="og:title" content="http-a-safe.md"><meta property="og:url" content="https://herycs.github.io/2019/08/15/http-a-safe/"><meta property="og:site_name" content="Alex"><meta property="og:description" content="http-a-safe.md"><meta property="og:image" content="https://herycs.github.io/img/post.jpg"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = 'false'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://herycs.github.io/2019/08/15/http-a-safe/"><link rel="prev" title="jvm-a-memoryAndGC_Method.md" href="https://herycs.github.io/2019/08/18/jvm-a-memoryAndGC-Method/"><link rel="next" title="http-a-base.md" href="https://herycs.github.io/2019/07/21/http-a-base/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  bookmark: {
    message_prev: 'Press',
    message_next: 'to bookmark this page'
  },
  runtime_unit: 'days',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: false,
  isPhotoFigcaption: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.0"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">Articles</div><div class="length_num">29</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">Tags</div><div class="length_num">11</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">Categories</div><div class="length_num">7</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/documents"><i class="fa-fw fa fa-music"></i><span> Documents</span></a></li></ul></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#安全-HTTPS-b"><span class="toc-number">1.</span> <span class="toc-text">安全 - HTTPS - b</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-HTTPS"><span class="toc-number">2.</span> <span class="toc-text">1.HTTPS</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-HTTP缺点"><span class="toc-number">2.1.</span> <span class="toc-text">1.1 HTTP缺点</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-1-通信使用明文，内容容易被窃听"><span class="toc-number">2.1.1.</span> <span class="toc-text">1.1.1 通信使用明文，内容容易被窃听</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-2-不验证通信双方的身份，可能遭遇伪装"><span class="toc-number">2.1.2.</span> <span class="toc-text">1.1.2 不验证通信双方的身份，可能遭遇伪装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-3-无法证明报文的完整性，报文可能已被篡改"><span class="toc-number">2.1.3.</span> <span class="toc-text">1.1.3 无法证明报文的完整性，报文可能已被篡改</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-HTTPS-HTTP-加密-认证-完整性保护"><span class="toc-number">2.2.</span> <span class="toc-text">1.2 HTTPS (HTTP + 加密 + 认证 + 完整性保护)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-1-共享秘钥加密"><span class="toc-number">2.2.1.</span> <span class="toc-text">1.2.1  共享秘钥加密</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-2-公开秘钥加密"><span class="toc-number">2.2.2.</span> <span class="toc-text">1.2.2 公开秘钥加密</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-3-混合加密"><span class="toc-number">2.2.3.</span> <span class="toc-text">1.2.3 混合加密</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-4-HTTPS-通信流程"><span class="toc-number">2.2.4.</span> <span class="toc-text">1.2.4 HTTPS 通信流程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-5-加入SSL后变慢"><span class="toc-number">2.2.5.</span> <span class="toc-text">1.2.5 加入SSL后变慢</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-确认认用户访问身份"><span class="toc-number">3.</span> <span class="toc-text">2.确认认用户访问身份</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-概述"><span class="toc-number">3.1.</span> <span class="toc-text">2.1 概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-BASIC-认证"><span class="toc-number">3.2.</span> <span class="toc-text">2.2 BASIC 认证</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-DIGEST认证"><span class="toc-number">3.3.</span> <span class="toc-text">2.3 DIGEST认证</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-SSL-客户端认证"><span class="toc-number">3.4.</span> <span class="toc-text">2.4 SSL 客户端认证</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-5-Cookie"><span class="toc-number">3.5.</span> <span class="toc-text">2.5 Cookie</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-HTTP功能追加协议"><span class="toc-number">4.</span> <span class="toc-text">3.HTTP功能追加协议</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-SPDY消除HTTP瓶颈"><span class="toc-number">4.1.</span> <span class="toc-text">3.1 SPDY消除HTTP瓶颈</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-1-HTTP瓶颈"><span class="toc-number">4.1.1.</span> <span class="toc-text">3.1.1 HTTP瓶颈</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-2-Ajax"><span class="toc-number">4.1.2.</span> <span class="toc-text">3.1.2 Ajax</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-3-Comet"><span class="toc-number">4.1.3.</span> <span class="toc-text">3.1.3 Comet</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-4-SPDY"><span class="toc-number">4.1.4.</span> <span class="toc-text">3.1.4 SPDY</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-4-1-相关信息"><span class="toc-number">4.1.4.1.</span> <span class="toc-text">3.1.4.1 相关信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-4-2-添加给HTTP的功能"><span class="toc-number">4.1.4.2.</span> <span class="toc-text">4.1.4.2 添加给HTTP的功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-4-3-应用"><span class="toc-number">4.1.4.3.</span> <span class="toc-text">3.1.4.3　应用</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-全双工通信WebSocket"><span class="toc-number">4.2.</span> <span class="toc-text">3.2 全双工通信WebSocket</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-WebDAV管理文件"><span class="toc-number">4.3.</span> <span class="toc-text">3.3 WebDAV管理文件</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(/img/post.jpg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Alex</a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/documents"><i class="fa-fw fa fa-music"></i><span> Documents</span></a></li></ul></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">http-a-safe.md</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="Created 2019-08-15 22:05:53"><i class="fa fa-calendar" aria-hidden="true"></i> Created 2019-08-15</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="Updated 2019-08-15 22:05:53"><i class="fa fa-history" aria-hidden="true"></i> Updated 2019-08-15</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/network/">network</a></span></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>Post View:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div id="article-container"><h1 id="安全-HTTPS-b"><a href="#安全-HTTPS-b" class="headerlink" title="安全 - HTTPS - b"></a>安全 - HTTPS - b</h1><h1 id="1-HTTPS"><a href="#1-HTTPS" class="headerlink" title="1.HTTPS"></a>1.HTTPS</h1><h2 id="1-1-HTTP缺点"><a href="#1-1-HTTP缺点" class="headerlink" title="1.1 HTTP缺点"></a>1.1 HTTP缺点</h2><h3 id="1-1-1-通信使用明文，内容容易被窃听"><a href="#1-1-1-通信使用明文，内容容易被窃听" class="headerlink" title="1.1.1 通信使用明文，内容容易被窃听"></a>1.1.1 通信使用明文，内容容易被窃听</h3><ul>
<li><p>HTTP 本身不具有加密能力，无法对通信的请求或响应加密</p>
</li>
<li><p>TCP/IP 是可能被窃听的网络</p>
<ul>
<li>依照TCP/IP协议族的工作机制分析，通信内容在所有的通信线路都可能被窃听</li>
<li>即使是加密过的通信，也会被窃取到通信内容（加密过的内容）</li>
</ul>
</li>
<li><p>窃听手段：获取互联网上的流动数据（帧）</p>
</li>
<li><p>加密：</p>
<ul>
<li><p>通信加密：</p>
<blockquote>
<p>使用SSL(Secure Socket Layer，安全套接层)或TLS（TranSport Layer Security）</p>
<p>与SSL组合使用的HTTP被称为HTTPS（HTTP Secure，超文本传输安全协议）或HTTP voer SSL</p>
</blockquote>
<ul>
<li>用SSL建立安全通信线路后进行HTTP通信</li>
</ul>
</li>
<li><p>内容加密：</p>
<blockquote>
<p>内容仍有被篡改的风险</p>
</blockquote>
<ul>
<li>对通信内容本身加密后再发送请求（前提要求客户端和服务端同时具备加密和解密机制）</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="1-1-2-不验证通信双方的身份，可能遭遇伪装"><a href="#1-1-2-不验证通信双方的身份，可能遭遇伪装" class="headerlink" title="1.1.2 不验证通信双方的身份，可能遭遇伪装"></a>1.1.2 不验证通信双方的身份，可能遭遇伪装</h3><ul>
<li>任何人可发起请求<ul>
<li>无法确定返回的是否是源服务器真正返回的内容</li>
<li>无法确定客户端是否是真正接收响应的客户端</li>
<li>无法确定通信对象是否具有权限</li>
<li>无法确定请求的发送者，发送地</li>
<li>服务器容易受到DoS(Denial of Service， 拒绝服务攻击)</li>
</ul>
</li>
<li>应对策略：<ul>
<li>查明对方的证书<ul>
<li>SSL提供了称为证书的机制</li>
<li>证书由可信任的第三方机构颁发，证明服务端客户端真实存在</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="1-1-3-无法证明报文的完整性，报文可能已被篡改"><a href="#1-1-3-无法证明报文的完整性，报文可能已被篡改" class="headerlink" title="1.1.3 无法证明报文的完整性，报文可能已被篡改"></a>1.1.3 无法证明报文的完整性，报文可能已被篡改</h3><ul>
<li><p>接收到的内容可能有误</p>
<blockquote>
<p>MITM：中间人攻击，请求或响应传输过程中，遭到攻击者拦截并篡改内容的攻击</p>
</blockquote>
<ul>
<li>无法证明通信报文的完整性</li>
<li>传输过程中可能受到MITM(Man-in-the-Middle attack)攻击</li>
</ul>
</li>
<li><p>应对策略：</p>
<ul>
<li>数字签名：<ul>
<li>MD5</li>
<li>SHA-1</li>
<li>PGP（Pretty Good Privacy, 完美隐私）</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="1-2-HTTPS-HTTP-加密-认证-完整性保护"><a href="#1-2-HTTPS-HTTP-加密-认证-完整性保护" class="headerlink" title="1.2 HTTPS (HTTP + 加密 + 认证 + 完整性保护)"></a>1.2 HTTPS (HTTP + 加密 + 认证 + 完整性保护)</h2><ul>
<li>身披SSL外壳的HTTP：通信接口部分用SSL和TLS</li>
<li>通信过程：（原）HTTP直接和TCP通信 =&gt;（现）先和SSL通信，再由SSL和TCP通信</li>
<li>SSL 采用公开加密算法（Public-key cryptography）</li>
</ul>
<h3 id="1-2-1-共享秘钥加密"><a href="#1-2-1-共享秘钥加密" class="headerlink" title="1.2.1  共享秘钥加密"></a>1.2.1  共享秘钥加密</h3><ul>
<li>共享秘钥加密：加密解密使用同一个秘钥</li>
<li>发送时需要将秘钥给对方</li>
</ul>
<h3 id="1-2-2-公开秘钥加密"><a href="#1-2-2-公开秘钥加密" class="headerlink" title="1.2.2 公开秘钥加密"></a>1.2.2 公开秘钥加密</h3><ul>
<li>使用非对称秘钥（私有秘钥（private key）+ 公开秘钥（public key））</li>
</ul>
<h3 id="1-2-3-混合加密"><a href="#1-2-3-混合加密" class="headerlink" title="1.2.3 混合加密"></a>1.2.3 混合加密</h3><ul>
<li><p>HTTPS加密方式：共享秘钥+公开秘钥</p>
</li>
<li><p>证明公开秘钥正确性的证书</p>
<ul>
<li>证书由可信赖的第三方机构颁发</li>
</ul>
</li>
<li><p>证明组织真实性的证书</p>
<ul>
<li>EV SSL(Extended Validation SSL Certificate)</li>
</ul>
</li>
<li><p>确认客户端的客户端证书</p>
<ul>
<li>获取了安装有客户端证书的终端使用权限，拥有了客户端证书的的使用权限</li>
</ul>
</li>
<li><p>认证机构的正确性</p>
<ul>
<li>若认证机构颁发的证书本身出了问题，那么使用证书的安全性便有待考究</li>
<li>事故：2011年7月，荷兰DigiNotar遭到黑客入侵，颁发了伪造证书</li>
</ul>
</li>
<li><p>自签名证书</p>
<blockquote>
<p>并不能消除服务器被伪装的风险，加可信任的第三方认证相比于此可信度更高</p>
</blockquote>
<ul>
<li>自己构件的认证机构颁发的证书</li>
<li>方法：使用OpenSSL开源程序搭建自己的认证机构</li>
</ul>
</li>
</ul>
<h3 id="1-2-4-HTTPS-通信流程"><a href="#1-2-4-HTTPS-通信流程" class="headerlink" title="1.2.4 HTTPS 通信流程"></a>1.2.4 HTTPS 通信流程</h3><ul>
<li><p>通信流程图：</p>
<p>  <img src="/" class="lazyload" data-src="C:%5CUsers%5CANGLE0%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20191215151716323.png"  alt="image-20191215151716323"></p>
</li>
</ul>
<ul>
<li>使用服务端公开秘钥建立通信的图<img src="/" class="lazyload" data-src="C:%5CUsers%5CANGLE0%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20191215151533091.png"  alt="image-20191215151533091"></li>
</ul>
<h3 id="1-2-5-加入SSL后变慢"><a href="#1-2-5-加入SSL后变慢" class="headerlink" title="1.2.5 加入SSL后变慢"></a>1.2.5 加入SSL后变慢</h3><ul>
<li><p>和使用HTTP相比，网络负载会慢到2-100倍</p>
</li>
<li><p>类别：</p>
<ul>
<li>通信慢：连接时需要先与SSL通信</li>
<li>处理速度慢：大量消耗内存，进行加密运算等操作</li>
</ul>
</li>
<li><p>硬件加速服务器提高SSL的计算速度</p>
</li>
</ul>
<h1 id="2-确认认用户访问身份"><a href="#2-确认认用户访问身份" class="headerlink" title="2.确认认用户访问身份"></a>2.确认认用户访问身份</h1><h2 id="2-1-概述"><a href="#2-1-概述" class="headerlink" title="2.1 概述"></a>2.1 概述</h2><ul>
<li>认证（一般核对一下信息）：<ul>
<li>密码：本人可知字符串信息</li>
<li>动态密码：限本人持有的设备内显示的一次性密码</li>
<li>数字证书：限本人（终端）持有的信息</li>
<li>生物认证：指纹和虹膜等生理信息</li>
<li>IC卡等：限本人持有的信息</li>
</ul>
</li>
<li>HTTP/1.1认证方式<ul>
<li>BASIC认证（基本认证）</li>
<li>DIGEST认证（摘要认证）</li>
<li>SSL客户端认证</li>
<li>FormBase认证（基于表单认证）</li>
</ul>
</li>
</ul>
<h2 id="2-2-BASIC-认证"><a href="#2-2-BASIC-认证" class="headerlink" title="2.2 BASIC 认证"></a>2.2 BASIC 认证</h2><ul>
<li>流程：<ul>
<li>1.请求资源需要认证，服务端=&gt;401 Authorizatin Required<ul>
<li>响应带有WWW-Authenticate字段</li>
<li>字段内包含认证的方式（BASIC）及Request-URI安全域字符串</li>
</ul>
</li>
<li>2.客户端—&gt;带用户密码的字符串<ul>
<li>字符串内容：经过Base64编码处理的<kbd>用户名+:+用户密码</kbd></li>
</ul>
</li>
<li>3.服务端响应<ul>
<li>认证通过=&gt;含Request-URI的资源响应</li>
</ul>
</li>
</ul>
</li>
<li>缺点：<ul>
<li>破译可能性极高</li>
<li>使用上不够灵活</li>
</ul>
</li>
</ul>
<h2 id="2-3-DIGEST认证"><a href="#2-3-DIGEST认证" class="headerlink" title="2.3 DIGEST认证"></a>2.3 DIGEST认证</h2><ul>
<li>流程：<ul>
<li>1.请求资源需要认证，服务端=&gt;401 Authorizatin Required<ul>
<li>响应带有WWW-Authenticate字段</li>
<li>字段内容：质询所需质询码（随机生成）</li>
<li>首部字段必须包含：readlm， nonce（随机字符串）</li>
</ul>
</li>
<li>2.客户端—&gt;认证字段<ul>
<li>首部字段包含内容：<ul>
<li>username</li>
<li>realm(服务器上一步的回应值)</li>
<li>nonce(服务器上一步的回应值)</li>
<li>uri</li>
<li>response</li>
</ul>
</li>
</ul>
</li>
<li>3.服务端响应<ul>
<li>认证通过=&gt;含Request-URI的资源响应，首部字段Authorization-Info写入认证成功的信息</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="2-4-SSL-客户端认证"><a href="#2-4-SSL-客户端认证" class="headerlink" title="2.4 SSL 客户端认证"></a>2.4 SSL 客户端认证</h2><ul>
<li>流程：<ul>
<li>1.服务端接到对需认证自愿的请求=&gt;Certificate Request,要求客户端提供证书</li>
<li>2.客户端—&gt;证书以Client Certificate报文方式发送给服务端</li>
<li>3.服务器验证哭护短证书验证通过后领取证书内客户端的公开秘钥，并开始HTTPS加密通信</li>
</ul>
</li>
<li>双因素认证（提供基于表单的认证和证书的组合）：<ul>
<li>表单信息</li>
<li>证书</li>
</ul>
</li>
</ul>
<h2 id="2-5-Cookie"><a href="#2-5-Cookie" class="headerlink" title="2.5 Cookie"></a>2.5 Cookie</h2><ul>
<li>使用Cookie管理Session，实现对用户状态的记录</li>
</ul>
<h1 id="3-HTTP功能追加协议"><a href="#3-HTTP功能追加协议" class="headerlink" title="3.HTTP功能追加协议"></a>3.HTTP功能追加协议</h1><h2 id="3-1-SPDY消除HTTP瓶颈"><a href="#3-1-SPDY消除HTTP瓶颈" class="headerlink" title="3.1 SPDY消除HTTP瓶颈"></a>3.1 SPDY消除HTTP瓶颈</h2><blockquote>
<p>SPDY - The Chromium Projects缩短Web加载性能50%</p>
</blockquote>
<h3 id="3-1-1-HTTP瓶颈"><a href="#3-1-1-HTTP瓶颈" class="headerlink" title="3.1.1 HTTP瓶颈"></a>3.1.1 HTTP瓶颈</h3><ul>
<li>一条连接上一条请求</li>
<li>请求由客户端开始</li>
<li>请求首部未经压缩便发送</li>
<li>发送冗长的首部</li>
<li>任意数据压缩格式</li>
</ul>
<h3 id="3-1-2-Ajax"><a href="#3-1-2-Ajax" class="headerlink" title="3.1.2 Ajax"></a>3.1.2 Ajax</h3><ul>
<li>使用JavaScript和DOM操作达到局部加载页面的通信手段</li>
<li>效果：未解决HTTP瓶颈</li>
</ul>
<h3 id="3-1-3-Comet"><a href="#3-1-3-Comet" class="headerlink" title="3.1.3 Comet"></a>3.1.3 Comet</h3><ul>
<li>服务器端内容更新，直接给客户端返回响应，延迟应答，模拟实现向服务器端向客户端推送的功能</li>
</ul>
<h3 id="3-1-4-SPDY"><a href="#3-1-4-SPDY" class="headerlink" title="3.1.4 SPDY"></a>3.1.4 SPDY</h3><h4 id="3-1-4-1-相关信息"><a href="#3-1-4-1-相关信息" class="headerlink" title="3.1.4.1 相关信息"></a>3.1.4.1 相关信息</h4><ul>
<li>未完全改写HTTP协议TCP/IP 与 传输层间添加 会话层</li>
<li>SPDY规定通信使用SSL</li>
<li>仍采用HTTP建立通信连接</li>
</ul>
<h4 id="4-1-4-2-添加给HTTP的功能"><a href="#4-1-4-2-添加给HTTP的功能" class="headerlink" title="4.1.4.2 添加给HTTP的功能"></a>4.1.4.2 添加给HTTP的功能</h4><ul>
<li>多路复用流<ul>
<li>单一TCP处理多个HTTP</li>
</ul>
</li>
<li>赋予请求优先级<ul>
<li>并发处理请求，可通过添加请求优先级控制贷款</li>
</ul>
</li>
<li>压缩HTTP首部<ul>
<li>压缩HTTP请求和响应首部</li>
</ul>
</li>
<li>推送功能<ul>
<li>指出服务器主动向客户端推送</li>
</ul>
</li>
<li>服务器提示功能<ul>
<li>主动提示客户端请求所需资源</li>
</ul>
</li>
</ul>
<h4 id="3-1-4-3-应用"><a href="#3-1-4-3-应用" class="headerlink" title="3.1.4.3　应用"></a>3.1.4.3　应用</h4><ul>
<li>将单个IP的通路多路复用，单IP下有多个站点，改善效果有所下降</li>
</ul>
<h2 id="3-2-全双工通信WebSocket"><a href="#3-2-全双工通信WebSocket" class="headerlink" title="3.2 全双工通信WebSocket"></a>3.2 全双工通信WebSocket</h2><ul>
<li>一旦Web服务器与客户端之间建立起WebSocket协议的通信连接，之后的所有通信依靠此专用协议</li>
<li>任意一方可直接向对方发送报文</li>
<li>支持推送</li>
<li>减少通行量</li>
<li>建立WebSocket：HTTP连接建立后完成一次握手</li>
</ul>
<h2 id="3-3-WebDAV管理文件"><a href="#3-3-WebDAV管理文件" class="headerlink" title="3.3 WebDAV管理文件"></a>3.3 WebDAV管理文件</h2><blockquote>
<p>Web-based Distributed Authoring and Versioning</p>
</blockquote>
<ul>
<li>可对Web服务器上内容直接进行文件复制、编辑等操作的分布式文件系统</li>
</ul>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Alex</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://herycs.github.io/2019/08/15/http-a-safe/">https://herycs.github.io/2019/08/15/http-a-safe/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/http/">http</a></div><div class="post_share"><div class="social-share" data-image="/img/post.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2019/08/18/jvm-a-memoryAndGC-Method/"><img class="prev_cover lazyload" data-src="/img/post.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">jvm-a-memoryAndGC_Method.md</div></div></a></div><div class="next-post pull_right"><a href="/2019/07/21/http-a-base/"><img class="next_cover lazyload" data-src="/img/post.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">http-a-base.md</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> Recommend</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2019/07/21/http-a-base/" title="http-a-base.md"><img class="relatedPosts_cover lazyload"data-src="/img/post.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2019-07-21</div><div class="relatedPosts_title">http-a-base.md</div></div></a></div></div><div class="clear_both"></div></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 By Alex</div><div class="framework-info"><span>Driven </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="Read Mode"></i><i class="fa fa-plus" id="font_plus" title="Increase font size"></i><i class="fa fa-minus" id="font_minus" title="Decrease font size"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="Traditional Chinese and Simplified Chinese Conversion" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="Dark Mode"></i></div><div id="rightside-config-show"><div id="rightside_config" title="Setting"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="Table of Contents" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="Back to top" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script></body></html>